<!DOCTYPE html>
<!--[if lt IE 7]><html class="lt-ie9 lt-ie8 lt-ie7" lang="en" dir="ltr"><![endif]-->
<!--[if IE 7]><html class="lt-ie9 lt-ie8" lang="en" dir="ltr"><![endif]-->
<!--[if IE 8]><html class="lt-ie9" lang="en" dir="ltr"><![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en" dir="ltr"
  prefix="fb: http://ogp.me/ns/fb# content: http://purl.org/rss/1.0/modules/content/ dc: http://purl.org/dc/terms/ foaf: http://xmlns.com/foaf/0.1/ og: http://ogp.me/ns# rdfs: http://www.w3.org/2000/01/rdf-schema# sioc: http://rdfs.org/sioc/ns# sioct: http://rdfs.org/sioc/types# skos: http://www.w3.org/2004/02/skos/core# xsd: http://www.w3.org/2001/XMLSchema#">
<!--<![endif]-->

<!-- Mirrored from web-engineering.info/node/66 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 21 Jul 2023 10:59:34 GMT -->
<!-- Added by HTTrack -->
<meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->

<head>
  <meta charset="utf-8" />
  <link rel="shortcut icon" href="../sites/default/files/machine-build-16x16_0.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="MobileOptimized" content="width" />
  <meta name="description"
    content="Prerequisites Preparing the environment to run a Java EE web application (with JPA and JSF) requires a set of tools and APIs that are described below. The order of installing and testing the components is relevant in some cases, therefore we recommend to do it in the order described below. The Java Development Kit Java JDK 8, known as Java Development Kit, is required to" />
  <meta name="HandheldFriendly" content="true" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <link rel="canonical" href="../JavaJpaJsfApp/Setup-Backend-for-JPA-and-JSF-Web-Applications.html" />
  <link rel="shortlink" href="66.html" />
  <title>Getting ready to run Java EE Web Applications | web-engineering.info</title>
  <link rel="stylesheet" href="../../_includes/modules/system/system.base5056.css" type="text/css" media="all">
  <link rel="stylesheet" href="../../_includes/modules/system/system.menus5056.css" type="text/css" media="all">
  <link rel="stylesheet" href="../../_includes/modules/system/system.messages5056.css" type="text/css" media="all">
  <link rel="stylesheet" href="../../_includes/modules/system/system.theme5056.css" type="text/css" media="all">
  <link rel="stylesheet" href="../../_includes/modules/comment/comment5056.css" type="text/css" media="all">
  <link rel="stylesheet" href="../../_includes/modules/field/theme/field5056.css" type="text/css" media="all">
  <link rel="stylesheet" href="../../_includes/modules/node/node5056.css" type="text/css" media="all">
  <link rel="stylesheet" href="../../_includes/modules/search/search5056.css" type="text/css" media="all">
  <link rel="stylesheet" href="../../_includes/modules/user/user5056.css" type="text/css" media="all">
  <link rel="stylesheet" href="../../_includes/modules/forum/forum5056.css" type="text/css" media="all">
  <link rel="stylesheet" href="../../_includes/sites/all/modules/views/css/views5056.css" type="text/css" media="all">
  <link rel="stylesheet" href="../../_includes/sites/all/modules/ckeditor/css/ckeditor5056.css" type="text/css"
    media="all">
  <link rel="stylesheet" href="../../_includes/sites/all/modules/ctools/css/ctools5056.css" type="text/css" media="all">
  <link rel="stylesheet"
    href="../../_includes/sites/all/themes/adaptivetheme/at_core/css/at.settings.style.headings5056.css" type="text/css"
    media="screen">
  <link rel="stylesheet"
    href="../../_includes/sites/all/themes/adaptivetheme/at_core/css/at.settings.style.image5056.css" type="text/css"
    media="screen">
  <link rel="stylesheet" href="../../_includes/sites/all/themes/adaptivetheme/at_core/css/at.layout5056.css"
    type="text/css" media="screen">
  <link rel="stylesheet" href="../../_includes/sites/all/themes/corolla/css/webeng.custom5056.css" type="text/css"
    media="all">
  <link rel="stylesheet" href="../../_includes/sites/all/themes/corolla/css/html-elements5056.css" type="text/css"
    media="all">
  <link rel="stylesheet" href="../../_includes/sites/all/themes/corolla/css/forms5056.css" type="text/css" media="all">
  <link rel="stylesheet" href="../../_includes/sites/all/themes/corolla/css/tables5056.css" type="text/css" media="all">
  <link rel="stylesheet" href="../../_includes/sites/all/themes/corolla/css/page5056.css" type="text/css" media="all">
  <link rel="stylesheet" href="../../_includes/sites/all/themes/corolla/css/articles5056.css" type="text/css"
    media="all">
  <link rel="stylesheet" href="../../_includes/sites/all/themes/corolla/css/comments5056.css" type="text/css"
    media="all">
  <link rel="stylesheet" href="../../_includes/sites/all/themes/corolla/css/fields5056.css" type="text/css" media="all">
  <link rel="stylesheet" href="../../_includes/sites/all/themes/corolla/css/blocks5056.css" type="text/css" media="all">
  <link rel="stylesheet" href="../../_includes/sites/all/themes/corolla/css/navigation5056.css" type="text/css"
    media="all">
  <link rel="stylesheet" href="../../_includes/sites/all/themes/corolla/css/corolla.settings.style5056.css"
    type="text/css" media="all">
  <link rel="stylesheet" href="../../_includes/sites/all/themes/corolla/color/colors5056.css" type="text/css"
    media="all">
  <link rel="stylesheet" href="../../_includes/sites/all/themes/corolla/css/print5056.css" type="text/css"
    media="print">
  <link type="text/css" rel="stylesheet"
    href="../../_includes/sites/default/files/adaptivetheme/corolla_files/corolla.responsive.layout5056.css"
    media="only screen" />
  <link rel="stylesheet" href="../../_includes/sites/default/files/adaptivetheme/corolla_files/corolla.fonts5056.css"
    type="text/css" media="screen">
  <link type="text/css" rel="stylesheet" href="../../_includes/sites/all/themes/corolla/css/responsive.custom5056.css"
    media="only screen" />
  <link type="text/css" rel="stylesheet"
    href="../../_includes/sites/all/themes/corolla/css/responsive.smartphone.portrait5056.css"
    media="only screen and (max-width:320px)" />
  <link type="text/css" rel="stylesheet"
    href="../../_includes/sites/all/themes/corolla/css/responsive.smartphone.landscape5056.css"
    media="only screen and (min-width:321px) and (max-width:480px)" />
  <link type="text/css" rel="stylesheet"
    href="../../_includes/sites/all/themes/corolla/css/responsive.tablet.portrait5056.css"
    media="only screen and (min-width:481px) and (max-width:768px)" />
  <link type="text/css" rel="stylesheet"
    href="../../_includes/sites/all/themes/corolla/css/responsive.tablet.landscape5056.css"
    media="only screen and (min-width:769px) and (max-width:1024px)" />
  <link type="text/css" rel="stylesheet" href="../../_includes/sites/all/themes/corolla/css/responsive.desktop5056.css"
    media="only screen and (min-width:1025px)" />


  <!--[if lt IE 9]>
      <style type="text/css" media="screen">
      @import url("../../_includes/sites/default/files/adaptivetheme/corolla_files/corolla.lt-ie9.layout.css?qv28dn");
      </style>
      <![endif]-->

  <!--[if lte IE 9]>
      <style type="text/css" media="screen">
      @import url("../../_includes/sites/all/themes/corolla/css/ie-lte-9.css?qv28dn");
      </style>
      <![endif]-->
  <script type="text/javascript" src="../../_includes/misc/jquery1cc4.js"></script>
  <script type="text/javascript" src="../../_includes/misc/jquery-extend-3.4.01cc4.js"></script>
  <script type="text/javascript" src="../../_includes/misc/jquery.once7839.js"></script>
  <script type="text/javascript" src="../../_includes/misc/drupal5056.js"></script>
  <script type="text/javascript"
    src="../../_includes/sites/all/modules/google_analytics/googleanalytics5056.js"></script>
  <script type="text/javascript">
      <!--//-->
  < ![CDATA[//><!--
      (function (i, s, o, g, r, a, m) { i["GoogleAnalyticsObject"] = r; i[r] = i[r] || function () { (i[r].q = i[r].q || []).push(arguments) }, i[r].l = 1 * new Date(); a = s.createElement(o), m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m) })(window, document, "script", "https://www.google-analytics.com/analytics.js", "ga"); ga("create", "UA-48105674-1", { "cookieDomain": "auto" }); ga("set", "anonymizeIp", true); ga("send", "pageview");
      //--><!]]>
  </script>
  <script type="text/javascript" src="../../_includes/sites/all/modules/disqus/disqus5056.js"></script>
  <script type="text/javascript">
      <!--//-->
  < ![CDATA[//><!--
        jQuery.extend(Drupal.settings, { "basePath": "\/", "pathPrefix": "", "ajaxPageState": { "theme": "corolla", "theme_token": "lFZahT6-VB7Qy37XiPt4hR1WARBvKq95YLAdjNylpqc", "js": { "misc\/jquery.js": 1, "misc\/jquery-extend-3.4.0.js": 1, "misc\/jquery.once.js": 1, "misc\/drupal.js": 1, "sites\/all\/modules\/google_analytics\/googleanalytics.js": 1, "0": 1, "sites\/all\/modules\/disqus\/disqus.js": 1 }, "css": { "modules\/system\/system.base.css": 1, "modules\/system\/system.menus.css": 1, "modules\/system\/system.messages.css": 1, "modules\/system\/system.theme.css": 1, "modules\/comment\/comment.css": 1, "modules\/field\/theme\/field.css": 1, "modules\/node\/node.css": 1, "modules\/search\/search.css": 1, "modules\/user\/user.css": 1, "modules\/forum\/forum.css": 1, "sites\/all\/modules\/views\/css\/views.css": 1, "sites\/all\/modules\/ckeditor\/css\/ckeditor.css": 1, "sites\/all\/modules\/ctools\/css\/ctools.css": 1, "sites\/all\/themes\/adaptivetheme\/at_core\/css\/at.settings.style.headings.css": 1, "sites\/all\/themes\/adaptivetheme\/at_core\/css\/at.settings.style.image.css": 1, "sites\/all\/themes\/adaptivetheme\/at_core\/css\/at.layout.css": 1, "sites\/all\/themes\/corolla\/css\/webeng.custom.css": 1, "sites\/all\/themes\/corolla\/css\/html-elements.css": 1, "sites\/all\/themes\/corolla\/css\/forms.css": 1, "sites\/all\/themes\/corolla\/css\/tables.css": 1, "sites\/all\/themes\/corolla\/css\/page.css": 1, "sites\/all\/themes\/corolla\/css\/articles.css": 1, "sites\/all\/themes\/corolla\/css\/comments.css": 1, "sites\/all\/themes\/corolla\/css\/fields.css": 1, "sites\/all\/themes\/corolla\/css\/blocks.css": 1, "sites\/all\/themes\/corolla\/css\/navigation.css": 1, "sites\/all\/themes\/corolla\/css\/fonts.css": 1, "sites\/all\/themes\/corolla\/css\/corolla.settings.style.css": 1, "sites\/all\/themes\/corolla\/color\/colors.css": 1, "sites\/all\/themes\/corolla\/css\/print.css": 1, "public:\/\/adaptivetheme\/corolla_files\/corolla.responsive.layout.css": 1, "public:\/\/adaptivetheme\/corolla_files\/corolla.fonts.css": 1, "sites\/all\/themes\/corolla\/css\/responsive.custom.css": 1, "sites\/all\/themes\/corolla\/css\/responsive.smartphone.portrait.css": 1, "sites\/all\/themes\/corolla\/css\/responsive.smartphone.landscape.css": 1, "sites\/all\/themes\/corolla\/css\/responsive.tablet.portrait.css": 1, "sites\/all\/themes\/corolla\/css\/responsive.tablet.landscape.css": 1, "sites\/all\/themes\/corolla\/css\/responsive.desktop.css": 1, "public:\/\/adaptivetheme\/corolla_files\/corolla.lt-ie9.layout.css": 1, "sites\/all\/themes\/corolla\/css\/ie-lte-9.css": 1 } }, "googleanalytics": { "trackOutbound": 1, "trackMailto": 1, "trackDownload": 1, "trackDownloadExtensions": "7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip" }, "urlIsAjaxTrusted": { "\/search\/node": true, "\/index.html?destination=node\/5": true }, "disqus": { "domain": "web-engineering", "url": "https:\/\/web-engineering.info\/index.html", "title": "Free Tutorials and Books with the Complete Code of Example Apps", "identifier": "node\/5" }, "adaptivetheme": { "corolla": { "layout_settings": { "bigscreen": "three-col-grail", "tablet_landscape": "three-col-grail", "tablet_portrait": "one-col-vert", "smalltouch_landscape": "one-col-vert", "smalltouch_portrait": "one-col-stack" }, "media_query_settings": { "bigscreen": "only screen and (min-width:1025px)", "tablet_landscape": "only screen and (min-width:769px) and (max-width:1024px)", "tablet_portrait": "only screen and (min-width:481px) and (max-width:768px)", "smalltouch_landscape": "only screen and (min-width:321px) and (max-width:480px)", "smalltouch_portrait": "only screen and (max-width:320px)" } } } });
      //--><!]]>
  </script>
  <!--[if lt IE 9]>
      <script src="../../_includes/sites/all/themes/adaptivetheme/at_core/scripts/html5.js?qv28dn"></script>
      <![endif]-->
</head>

<body
  class="html not-front not-logged-in one-sidebar sidebar-first page-node page-node- page-node-66 node-type-page atr-7.x-3.x atv-7.x-3.1 site-name-web-engineeringinfo section-javajpajsfapp color-scheme-default corolla bs-n bb-n mb-dd rc-6 rct-6">
  <div id="skip-link" class="nocontent">
    <a href="#main-content" class="element-invisible element-focusable">Skip to main content</a>
  </div>
  <div id="page-wrapper">
    <div id="page"
      class="page snc-n snw-n sna-l sns-n ssc-n ssw-n ssa-l sss-n btc-n btw-b bta-l bts-n ntc-n ntw-b nta-l nts-n ctc-n ctw-b cta-l cts-n ptc-n ptw-b pta-l pts-n">


      <div id="header-wrapper">
        <div class="container clearfix">

          <header class="clearfix with-logo" role="banner">

            <div id="branding" class="branding-elements clearfix">

              <div id="logo">
                <a href="../index.html"><img class="site-logo" typeof="foaf:Image"
                    src="../sites/default/files/logo_1.png" alt="web-engineering.info" /></a>
              </div>

              <div class="h-group" id="name-and-slogan">

                <h1 id="site-name"><a href="../index.html" title="Home page">web-engineering.info</a></h1>

                <h2 id="site-slogan">High-quality resources for learning developers and makers</h2>

              </div>

            </div>


          </header>

        </div>
      </div>




      <div id="content-wrapper">
        <div class="container">

          <div id="columns">
            <div class="columns-inner clearfix">

              <div id="content-column">
                <div class="content-inner">


                  <section id="main-content" role="main">


                    <div class="content-margin">
                      <div class="content-style">




                        <header class="clearfix">
                          <h1 id="page-title">
                            Getting ready to run Java EE Web Applications </h1>
                        </header>



                        <div id="content">
                          <div class="region region-content">
                            <div id="block-system-main"
                              class="block block-system no-title odd first last block-count-1 block-region-content block-main">

                              <article id="node-66" class="node node-page article odd node-full ia-n clearfix"
                                about="/JavaJpaJsfApp/Setup-Backend-for-JPA-and-JSF-Web-Applications"
                                typeof="foaf:Document" role="article">
                                <div class="node-inner">


                                  <header class="node-header">



                                  </header>
                                  <span property="dc:title" content="Getting ready to run Java EE Web Applications"
                                    class="rdf-meta element-hidden"></span><span property="sioc:num_replies" content="0"
                                    datatype="xsd:integer" class="rdf-meta element-hidden"></span>
                                  <div class="node-content">
                                    <div
                                      class="field field-name-body field-type-text-with-summary field-label-hidden view-mode-full">
                                      <div class="field-items">
                                        <div class="field-item even" property="content:encoded">
                                          <h2>Prerequisites</h2>

                                          <p>Preparing the environment to run a Java EE web application (with JPA and
                                            JSF) requires a set of tools and APIs that are described below. The order of
                                            installing and testing the components is relevant in some cases, therefore
                                            we recommend to do it in the order described below.</p>

                                          <h3>The Java Development Kit</h3>

                                          <p><a
                                              href="http://www.oracle.com/technetwork/java/javase/downloads/index-jsp-138363.html">Java
                                              JDK 8</a>, known as <strong>J</strong>ava <strong>D</strong>evelopment
                                            <strong>K</strong>it, is required to compile and run Java programs. <a
                                              href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Download</a>
                                            the latest available&nbsp;7.x or 8.x version. You need to download and
                                            install the JDK corresponding to your operating system, e.g., Linux 32/64
                                            Bit, Windows 32/64 Bit, MacOS and so on. Run the installation and follow the
                                            instructions. Ensure that you have the required rights, especially in
                                            Linux/UNIX environments, where you may want to do it as the
                                            <code>root</code> user or by using <code>sudo</code> from the command line.
                                          </p>

                                          <p><strong>Note: </strong> make sure that you are downloading and installing
                                            the JDK and not the JRE (<strong>J</strong>ava <strong>R</strong>untime
                                            <strong>E</strong>nvironment) which does not contain the necessarily tools
                                            for compiling and building Java applications.
                                          </p>

                                          <p>Finally, test the correctness of the installation by running
                                            <code>java -version</code> in a shell, where you should see information
                                            about the newly installed JDK environment.
                                          </p>

                                          <h3>The TomEE Plume Applications Server Container</h3>

                                          <p><a href="https://tomee.apache.org/downloads.html">Apache TomEE Plume</a> is
                                            a Java EE "container", allowing to run Java EE web apps. We have used
                                            version v7.0.1, so if you install a newer version and run into problems with
                                            your deployment effort (getting various exceptions) you may go back to
                                            v7.0.1.</p>

                                          <p>Extract the downloaded archive content and start the TomEE server by using
                                            the <code>startup.bat</code> on Windows or <code>startup.sh</code> on
                                            UNIX/Linux. Test it by opening a web browser and navigating to <a
                                              href="http://localhost:8080/">http://localhost:8080</a> and you should see
                                            the TomEE welcome page. If during the startup the following error occurs:
                                          </p>

                                          <pre>
Neither the JAVA_HOME nor the JRE_HOME environment variable is defined
At least one of these environment variable is needed to run this program
</pre>

                                          <p>It means that we need to set the <code>JAVA_HOME</code> environment
                                            variable so that it points to the root folder of your JDK installation path.
                                            In an Windows environment, this is usually something like:
                                            <code>C:\Program Files\Java\jdk.x.y_z</code> where x.y_z is the version
                                            number.
                                          </p>

                                          <p><strong>Notes:</strong></p>

                                          <ul>
                                            <li>be sure that you download the TomEE Plume version, because the other
                                              variants (e.g., Web Profile or PLUS) do not contain the&nbsp;required JPA
                                              and JSF API jars.</li>
                                            <li>instead of using TomEE Plume, one can download Tomcat and the set of
                                              required API jars. However, the application code is slightly different in
                                              various points, specially related to JPA features because Tomcat is not an
                                              JavaEE container. A full list of differences between TomEE versions and
                                              Tomcat is available on the <a
                                                href="http://tomee.apache.org/comparison.html">TomEE / Tomcat comparison
                                                web page</a>.</li>
                                          </ul>

                                          <h3>The MySQL JDBC Driver</h3>

                                          <p><a
                                              href="https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-overview.html">MySQL
                                              Connector/J</a> is the official JDBC driver for MySQL. <a
                                              href="https://dev.mysql.com/downloads/connector/j/">Download</a> and
                                            extract the platform independent archive, and its root folder contains a
                                            file named <code>mysql-connector-java-x.y.z-bin.jar</code> (x.y.z is the
                                            version number, currently being 5.1.40), which needs to be copied in the
                                            <code>lib</code> sub-folder of the TomEE Plume installation. Restart the
                                            TomEE Plume server to have this library available for your Web Applications.
                                          </p>

                                          <h3>The Jettison JSON Library</h3>

                                          <p><a
                                              href="https://mvnrepository.com/artifact/org.codehaus.jettison">Jettison</a>
                                            is a JSON library for Java. We need this library to serialize some of the
                                            multiple valued properties, such as the ones expressed with the help of
                                            enumerations, then store them to MySQL. Later, the inverse operation
                                            transforms the JSON serialization to enumeration literal values. <a
                                              href="https://mvnrepository.com/artifact/org.codehaus.jettison/jettison">Download</a>
                                            the JAR file and copy it in the <code>lib</code> sub-folder of the TomEE
                                            Plume installation. Restart the TomEE Plume server to have this library
                                            available for your Web Applications.</p>

                                          <h2>Create and Deploy Java EE Web Applications using the ANT Script</h2>

                                          <p>For simplifying things, we provide an ANT script that allows to create the
                                            skeleton of a Java EE web app, compile it, build the <code>war</code> file
                                            and deploy it to TomEE Plume Server. One may also use Eclipse, NetBeans or
                                            other IDEs for doing the same tasks. The ANT script generates a folder
                                            structure, which is compatible with Eclipse, so in case you want to use
                                            Eclipse, you may simply create an Eclipse project from the existing
                                            application code.</p>

                                          <p>The first time when using the script you should edit it (use your favorite
                                            text or XML editor) and set the value of the <code>server.folder</code>
                                            variable so that it reprensets the path to your TomEE installation folder.
                                            Presuming that your OS is Windows, and the TomEE installation folder is
                                            "c:\tomeeplume", then you should have:</p>

                                          <pre>
&lt;property name="server.folder" value="D:\servers\tomeeplume"/&gt;
</pre>

                                          <p>For a UNIX/Linux environment, if your TomEE is located under
                                            "/srv/tomeeplume", it must be:</p>

                                          <pre>
&lt;property name="server.folder" value="/srv/tomeeplume"&gt;
</pre>

                                          <p><strong>Hint: </strong> make sure that the user has the rights to write on
                                            the <code>webapps</code> subfolder (e.g.,
                                            <code>/srv/tomeeplume/webapps</code>) of your TomEE installation folder,
                                            specially when using UNIX/Linux.
                                          </p>

                                          <p>We do not intend to provide an ANT tutorial, so we'll not get get into
                                            specific ANT details, but only discuss the tasks and their meaning for our
                                            ANT script.</p>

                                          <dl>
                                            <dt>
                                              <code>create app -Dappname=yourAppName -Dpkgname=yourAppPackageName</code>
                                            </dt>
                                            <dd>
                                              <p>allows creating the folder structure. Instead of
                                                <code>yourAppName</code> and <code>yourAppPackageName</code> you have to
                                                provide your app's name and its package name. In our example app, we
                                                invoke the task with
                                                <code>ant create app -Dappname=publicLibrary -Dpkgname=pl</code>.
                                              </p>

                                              <p>The script creates the folder structure, as well as the required files
                                                <code>src/META-INF/persistence.xml</code>,
                                                <code>WEB-INF/faces-config.xml</code> and <code>WEB-INF/web.xml</code>.
                                                The parameter <code>yourAppPackageName</code> is used to create the Java
                                                top level packages. If omitted, <code>yourAppName</code> is used as Java
                                                top package name instead. For the next tasks/commands you have to be
                                                sure that the ANT script file is located in the same folder as your web
                                                application folder (and not one level deeper in the web application
                                                folder). This way, one can use the same ANT script for building multiple
                                                web applications.
                                              </p>

                                              <p>The optional parameter, <code>-Dforce=true</code> allows to overwrite
                                                an already existing application.</p>
                                            </dd>
                                            <dt><code>build war -Dappname=yourAppName</code></dt>
                                            <dd>
                                              <p>allows building the WAR file by using <code>yourAppName</code> as file
                                                name. The resulting WAR file will be in the same folder as the ANT
                                                script file. For our example app we use the following command:
                                                <code>ant war -Dappname=publicLibrary</code>
                                              </p>

                                              <p><strong>Hint:</strong> before being able to use this command, you have
                                                to edit the ANT script and modify the value of the
                                                <code>server.folder</code> parameter so it points to your TomEE
                                                installation folder.
                                              </p>
                                            </dd>
                                            <dt><code>deploy -Dappname=yourAppName</code></dt>
                                            <dd>
                                              <p>allows deploying the WAR file associated with <code>yourAppName</code>
                                                to the TomEE web server. It automatically executes the
                                                <code>build war -Dappname=yourAppName</code> command, which means the
                                                WAR file is built before the deploy. The location of the deploy folder
                                                is detected by using the <code>server.folder</code> property, by
                                                appending the <code>webapps</code> folder name. For our example app we
                                                invoke the following command:
                                                <code>ant deploy -Dappname=publicLibrary</code>.
                                              </p>
                                            </dd>
                                          </dl>

                                          <p><strong>Hint:</strong> we do not recommend using spaces in folder names,
                                            but if for any reason, the application name needs to contain spaces, then it
                                            has to be enclosed in double quotes, e.g.
                                            <code>create app -Dappname="Hellow World"</code>. Notice that in such a
                                            case, the <code>pkgname</code> parameter becomes mandatory, since "Hello
                                            World" is not a valid Java package name, thus it can't be used for this
                                            purpose.
                                          </p>

                                          <p>Presuming that we deployed the Minimal App on a local TomEE server, by
                                            executing <code>build war -Dappname=minimalapp</code>, we can use a Web
                                            Browser and enter the application's index page URL: <a
                                              href="http://localhost:8080/minimalapp/faces/views/books/index.xhtml">http://localhost:8080/minimalapp/faces/views/books/index.xhtml</a>.
                                          </p>

                                          <p><a class="bordered-link" href="../tech/JavaJpaJsfApp/build.zip">Download
                                              the ANT Script</a></p>

                                          <h3>The ANT Scripting Tool</h3>

                                          <p><a href="https://ant.apache.org/bindownload.cgi">Apache ANT</a> is needed
                                            only to run an ANT script , which allows to generate the skeleton of a Java
                                            JPA/JSF Web Application, compile it, build it and deploy it to a TomEE
                                            container for being run and made accessible on the web. The ANT script and
                                            the corresponding parameters used for each operation (task) are discussed
                                            later in this article.</p>

                                          <p>Installing Apache ANT requires to unzip the downloaded archive and add its
                                            <code>bin</code> sub-folder to your <code>PATH</code> environment variable.
                                            Test the installation by running <code>ant</code> in a shell, and you should
                                            see:
                                          </p>

                                          <pre>
Buildfile: build.xml does not exist!
Build failed
</pre>

                                          <p>This is a normal error message, informing us that there is no
                                            <code>build.xml</code> ANT script file. We learn more about the
                                            <code>build.xml</code> file and its content, later in this article. In case
                                            that you are getting the following error:
                                          </p>

                                          <pre>
Unable to locate tools.jar. Expected to find it in C:\Program Files\Java\jre1.x.y_z\lib\tools.jar
</pre>

                                          <p>It means that the ANT tool tries to use the JRE as default JDK, and it does
                                            not find the required components. This is solved by setting the
                                            <code>JAVA_HOME</code> environment variable to point to the root folder of
                                            your JDK installation path. In an Windows environment, this is usually
                                            something like: <code>C:\Program Files\Java\jdk.x.y_z</code> where x.y_z is
                                            the version number.
                                          </p>
                                          <!--
<h2>Some Points of Attention</h2>

<p>Due to a bug (or an incomplete feature) in TomEE Plume v7.0.x (v7.0.1 at the moment of writing this article), an "empty" <code>beans.xml</code> file had to be added to the <code>WEB-INF</code> folder. We quote "empty" because the file itself contains only the root XML element, but no other relevant information for our applications, so this file must not be required at all. Below is the content of the "empty" <code>WEB-INF/beans.xml</code> file:</p>

<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://java.sun.com/xml/ns/javaee" 
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
       xsi:schemaLocation="http://java.sun.com/xml/ns/javaee 
                           http://java.sun.com/xml/ns/javaee/beans_1_0.xsd"&gt;
&lt;/beans&gt;
</pre>

<p>When this file is missing, a chain of Java Exceptions are thrwon:</p>

<pre>
<strong>SEVERE [localhost-startStop-1] com.sun.faces.config.ConfigureListener.contextInitialized
  Critical error during deployment: com.sun.faces.config.ConfigurationException: 
  Factory 'javax.faces.lifecycle.ClientWindowFactory' was not configured properly.</strong>
  ...long chain of Java Exceptions...
Caused by: javax.faces.FacesException: com.sun.faces.lifecycle.ClientWindowFactoryImpl
  ...long chain of Java Exceptions...
Caused by: java.lang.NullPointerException
  ...long chain of Java Exceptions...

<strong>SEVERE [localhost-startStop-1] com.sun.faces.config.ConfigureListener.contextDestroyed
  Unexpected exception when attempting to tear down the Mojarra runtime
  java.lang.IllegalStateException: Could not find backup 
  for factory javax.faces.application.ApplicationFactory.</strong> 
  ...long chain of Java Exceptions...
</pre>

<p><strong>Note:</strong> this behavior is not present in TomEE Plume 1.7.x.</p>
-->
                                        </div>
                                      </div>
                                    </div>
                                  </div>



                                </div>
                              </article>

                            </div>
                          </div>
                        </div>


                      </div>
                    </div>

                  </section>

                  <div class="region region-content-aside">
                    <div class="region-inner clearfix">
                      <div id="block-block-2"
                        class="block block-block no-title odd first last block-count-2 block-region-content-aside block-2">
                        <div class="block-inner clearfix">

                          <div class="block-content content">
                            <p style="text-align: center; margin-top: 10px;">©
                              2014-2020&nbsp;web-engineering.info&nbsp;<a
                                href="https://plus.google.com/104237216582874489152" rel="publisher"><img alt="G+"
                                  src="../../assets/images/gplus-16.png" style="width: 16px; height: 16px;" /></a> | <a
                                href="../../about/index.html">About Us</a> | <a href="../../privacy/index.html">Privacy
                                Policy</a> | Terms
                              &amp;
                              Conditions</p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="region region-sidebar-first sidebar">
                <div class="region-inner clearfix">
                  <nav id="block-system-main-menu"
                    class="block block-system block-menu odd first block-count-3 block-region-sidebar-first block-main-menu"
                    role="navigation">
                    <div class="block-inner clearfix">
                      <h2 class="block-title">Main menu</h2>

                      <div class="block-content content">
                        <ul class="menu clearfix">
                          <li class="first leaf menu-depth-1 menu-item-1476"><a href="https://sim4edu.com"
                              title="The Simulation for Education (Sim4edu) project website supports web-based simulation with open source technologies for science and education.">Web-Based
                              Discrete Event Simulation</a></li>
                          <li class="leaf menu-depth-1 menu-item-1218"><a href="../../WebAppBook/index.html"
                              title="Web Applications with JavaScript or Java">Textbook
                              Web Apps JS+Java</a></li>
                          <li class="leaf menu-depth-1 menu-item-1477"><a href="../../textbooknode80/index.html">Book
                              Information Management</a></li>
                          <li class="leaf menu-depth-1 menu-item-366"><a href="../../blog/index.html"
                              title="A blog about web engineering issues.">Web Engineering
                              Blog</a></li>
                          <li class="leaf menu-depth-1 menu-item-758"><a
                              href="../../SummariesCheatsheetsPosters/index.html">Summaries
                              &amp; Cheat
                              Sheets</a></li>
                          <li class="leaf menu-depth-1 menu-item-361"><a href="../../JsFrontendApp/index.html"
                              title="This 6-part tutorial shows how to build front-end web applications with plain JavaScript, not using any (third-party) framework or library.">Front-End
                              Apps with Plain JS</a></li>
                          <li class="leaf active-trail menu-depth-1 menu-item-465"><a
                              href="../../JavaJpaJsfApp/index.html"
                              title="Learn how to build back-end Java web applications with Java Server Faces (JSF) as the user interface technology, the Java Persistence API (JPA) as the object-to-storage mapping technology, and a MySQL database."
                              class="active-trail active">Back-End Apps with Java EE</a>
                          </li>
                          <li class="leaf menu-depth-1 menu-item-806"><a href="../../mODELcLASSjsApp/index.html"
                              title="Getting rid of boilerplate code with the model-based development approach of mODELcLASSjs.">Apps
                              with mODELcLASSjs </a></li>
                          <li class="leaf menu-depth-1 menu-item-805"><a href="../../WoTProjects/index.html"
                              title="A WoT system is a communication network consisting of sensor nodes, actuator nodes and service nodes connected to the Internet and built with web technologies.">Web
                              of Things (WoT)</a></li>
                          <li class="leaf menu-depth-1 menu-item-613"><a href="../../forum/index.html"
                              title="">Discussion
                              Forums</a>
                          </li>
                          <li class="leaf menu-depth-1 menu-item-720"><a href="../../team/index.html"
                              title="Team members list.">Team</a></li>
                          <li class="last leaf menu-depth-1 menu-item-554"><a
                              href="../../contribute/index.html">Contribute
                              / Support Us</a>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </nav>
                  <section id="block-user-login"
                    class="block block-user even last block-count-4 block-region-sidebar-first block-login" role="form">
                    <div class="block-inner clearfix">
                      <h2 class="block-title">User login</h2>

                      <div class="block-content content">
                        <form
                          action="https://web-engineering.info/JavaJpaJsfApp/Setup-Backend-for-JPA-and-JSF-Web-Applications?destination=node/66"
                          method="post" id="user-login-form" accept-charset="UTF-8">
                          <div>
                            <div class="form-item form-type-textfield form-item-name">
                              <label for="edit-name">Username <span class="form-required"
                                  title="This field is required.">*</span></label>
                              <input type="text" id="edit-name" name="name" value="" size="15" maxlength="60"
                                class="form-text required" />
                            </div>
                            <div class="form-item form-type-password form-item-pass">
                              <label for="edit-pass">Password <span class="form-required"
                                  title="This field is required.">*</span></label>
                              <input type="password" id="edit-pass" name="pass" size="15" maxlength="128"
                                class="form-text required" />
                            </div>
                            <div class="item-list">
                              <ul>
                                <li class="even first last"><a href="../user/password.html"
                                    title="Request new password via e-mail.">Request new password</a></li>
                              </ul>
                            </div><input type="hidden" name="form_build_id"
                              value="form-3gLSawab674X9fnv2445aF2LV2UzIwEPWOcDC0cV_8I" />
                            <input type="hidden" name="form_id" value="user_login_block" />
                            <div class="form-actions form-wrapper" id="edit-actions"><input type="submit"
                                id="edit-submit" name="op" value="Log in" class="form-submit" /></div>
                          </div>
                        </form>
                      </div>
                    </div>
                  </section>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>




    </div>
  </div>
</body>

<!-- Mirrored from web-engineering.info/node/66 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 21 Jul 2023 10:59:34 GMT -->

</html>