<html>
<!-- Mirrored from web-engineering.info/book/WebApp1/ch03.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 21 Jul 2023 10:59:47 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;3.&nbsp;Building a Minimal Web App with Plain JS in Seven Steps</title><link rel="stylesheet" type="text/css" href="../docbook.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index-2.html" title="Web Applications with JavaScript or Java"><link rel="up" href="pt01.html" title="Part&nbsp;I.&nbsp;Getting Started"><link rel="prev" href="ch02s02.html" title="2.&nbsp;Storing Database Tables with JavaScript's localStorage API"><link rel="next" href="ch03s02.html" title="2.&nbsp;Step 2 - Write the Model Code"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;3.&nbsp;Building a Minimal Web App with Plain JS in Seven Steps</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s02.html">Prev</a>&nbsp;</td><th width="60%" align="center">Part&nbsp;I.&nbsp;Getting Started</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch03s02.html">Next</a></td></tr></table><hr></div><div lang="en" class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="chMinAppJs"></a>Chapter&nbsp;3.&nbsp;Building a Minimal Web App with Plain JS in Seven Steps</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="ch03.html#d5e1808">1. Step 1 - Set up the Folder Structure</a></span></dt><dt><span class="section"><a href="ch03s02.html">2. Step 2 - Write the Model Code</a></span></dt><dd><dl><dt><span class="section"><a href="ch03s02.html#d5e1874">2.1. Representing the collection of all <code class="code">Book</code>
      instances</a></span></dt><dt><span class="section"><a href="ch03s02.html#d5e1898">2.2. Creating a new <code class="code">Book</code> instance</a></span></dt><dt><span class="section"><a href="ch03s02.html#d5e1907">2.3. Loading all <code class="code">Book</code> instances</a></span></dt><dt><span class="section"><a href="ch03s02.html#d5e1937">2.4. Updating a <code class="code">Book</code> instance</a></span></dt><dt><span class="section"><a href="ch03s02.html#d5e1945">2.5. Deleting a <code class="code">Book</code> instance</a></span></dt><dt><span class="section"><a href="ch03s02.html#d5e1953">2.6. Saving all <code class="code">Book</code> instances</a></span></dt><dt><span class="section"><a href="ch03s02.html#d5e1971">2.7. Creating test data</a></span></dt><dt><span class="section"><a href="ch03s02.html#d5e1976">2.8. Clearing all data</a></span></dt></dl></dd><dt><span class="section"><a href="ch03s03.html">3. Step 3 - Initialize the Application</a></span></dt><dt><span class="section"><a href="ch03s04.html">4. Step 4 - Implement the <span class="italic">Create</span>
    Use Case</a></span></dt><dt><span class="section"><a href="ch03s05.html">5. Step 5 - Implement the <span class="italic">Retrieve/List
    All</span> Use Case</a></span></dt><dt><span class="section"><a href="ch03s06.html">6. Step 6 - Implement the <span class="italic">Update</span>
    Use Case</a></span></dt><dt><span class="section"><a href="ch03s07.html">7. Step 7 - Implement the <span class="italic">Delete</span>
    Use Case</a></span></dt><dt><span class="section"><a href="ch03s08.html">8. Run the App and Get the Code</a></span></dt><dt><span class="section"><a href="ch03s09.html">9. Possible Variations and Extensions</a></span></dt><dd><dl><dt><span class="section"><a href="ch03s09.html#d5e2122">9.1. Using IndexedDB as an Alternative to LocalStorage</a></span></dt><dt><span class="section"><a href="ch03s09.html#d5e2139">9.2. Styling the User Interface</a></span></dt></dl></dd><dt><span class="section"><a href="ch03s10.html">10. Points of Attention</a></span></dt><dd><dl><dt><span class="section"><a href="ch03s10.html#d5e2173">10.1. Catching invalid data</a></span></dt><dt><span class="section"><a href="ch03s10.html#d5e2178">10.2. Database size and memory management</a></span></dt><dt><span class="section"><a href="ch03s10.html#d5e2183">10.3. Boilerplate code</a></span></dt><dt><span class="section"><a href="ch03s10.html#d5e2194">10.4. Serializing and de-serializing attribute values</a></span></dt><dt><span class="section"><a href="ch03s10.html#d5e2211">10.5. Implicit versus explicit form field labels</a></span></dt><dt><span class="section"><a href="ch03s10.html#d5e2241">10.6. Synchronizing views with the model</a></span></dt><dt><span class="section"><a href="ch03s10.html#d5e2265">10.7. Architectural separation of concerns</a></span></dt></dl></dd><dt><span class="section"><a href="ch03s11.html">11. Practice Projects</a></span></dt><dd><dl><dt><span class="section"><a href="ch03s11.html#d5e2318">11.1. Project 1 - Managing information about movies</a></span></dt><dt><span class="section"><a href="ch03s11.html#d5e2361">11.2. Project 2 - Managing information about countries</a></span></dt></dl></dd></dl></div><p>In this <span class="phrase">chapter,</span>   we show how to build a minimal
  front-end web application with plain JavaScript and Local Storage. The
  purpose of our example app is to manage information about books. That is, we
  deal with a single object type: <code class="code">Book</code>, as depicted in the class
  diagram of <a class="xref" href="ch03.html#figBookMinAppModel" title="Figure&nbsp;3.1.&nbsp;The object type Book.">Figure&nbsp;3.1</a>.</p><div class="figure"><a name="figBookMinAppModel"></a><p class="title"><b>Figure&nbsp;3.1.&nbsp;The object type <code class="code">Book</code>.</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="150"><tr><td><img src="../fig/Book.svg" width="150" alt="The object type Book."></td></tr></table></div></div></div><br class="figure-break"><p>The following table shows a sample data population for the model class
  <code class="code">Book</code>:</p><div class="table"><a name="tblBooks"></a><p class="title"><b>Table&nbsp;3.1.&nbsp;A collection of book objects represented as a table</b></p><div class="table-contents"><table frame="box" rules="all"><thead><tr>
        <th>ISBN</th>

        <th>Title</th>

        <th>Year</th>
      </tr></thead><tbody><tr>
        <td>006251587X</td>

        <td>Weaving the Web</td>

        <td>2000</td>
      </tr><tr>
        <td>0465026567</td>

        <td>G&ouml;del, Escher, Bach</td>

        <td>1999</td>
      </tr><tr>
        <td>0465030793</td>

        <td>I Am A Strange Loop</td>

        <td>2008</td>
      </tr></tbody></table></div></div><br class="table-break"><p>What do we need for a data management app? There are four standard use
  cases, which have to be supported by the app: </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><span class="bold"><strong>Create</strong></span> a new book record by
        allowing the user to enter the data of a book that is to be added to
        the collection of stored book records.</p></li><li class="listitem"><p><span class="bold"><strong>Retrieve</strong></span> (or <span class="italic">read</span>) all books from the data store and show
        them in the form of a list.</p></li><li class="listitem"><p><span class="bold"><strong>Update</strong></span> the data of a book
        record.</p></li><li class="listitem"><p><span class="bold"><strong>Delete</strong></span> a book record.</p></li></ol></div><p>These four standard use cases, and the corresponding data management
  operations, are often summarized with the acronym <span class="italic">CRUD</span>.</p><p>For entering data with the help of the keyboard and the screen of our
  computer, we use <span class="italic">HTML forms</span>, which
  provide the <span class="italic">user interface</span> technology for
  web applications.</p><p>For maintaining a collection of persistent data objects, we need a
  storage technology that allows to keep data objects in persistent records on
  a secondary storage device, such as a hard-disk or a solid state disk.
  Modern web browsers provide two such technologies: the simpler one is called
  <span class="italic">Local Storage</span>, and the more powerful one
  is called <span class="italic"><a class="link" href="https://dev.opera.com/articles/introduction-to-indexeddb/" target="_top">IndexedDB</a></span>.
  For our minimal example app, we use Local Storage.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d5e1808"></a>1.&nbsp;Step 1 - Set up the Folder Structure</h2></div></div></div><p>In the first step, we set up our folder structure for the
    application. We pick a name for our app, such as "Public Library", and a
    corresponding (possibly abbreviated) name for the application folder, such
    as "PublicLibrary" or <code class="filename">MinimalApp</code>. Then we create this
    folder on our computer's disk and a subfolder "src" for our JavaScript
    source code files. In this folder, we create the subfolders "m", "v" and
    "c", following the <span class="italic">Model-View-Controller</span> paradigm for software
    application architectures. And finally we create an
    <code class="filename">index.html</code> file for the app's start page, as
    discussed below. Thus, we end up with the following folder structure:
    </p><pre class="programlisting">MinimalApp
  src
    c
    m
    v
  index.html</pre><p>In the start page HTML file of the app, we load the file
    <code class="filename">initialize.js</code> and the <code class="filename">Book.js</code>
    model class file:</p><pre class="programlisting">&lt;!DOCTYPE html&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"&gt;
&lt;head&gt;
 &lt;meta charset="UTF-8" /&gt;
 &lt;title&gt;Minimal JS Front-End App Example&lt;/title&gt;
 &lt;script src="src/c/initialize.js"&gt;&lt;/script&gt;
 &lt;script src="src/m/Book.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
 ...
&lt;/body&gt;
&lt;/html&gt;</pre><p>The start page provides a menu for choosing one of the CRUD data
    management use cases. Each use case is performed by a corresponding page
    such as, for instance, <code class="filename">createBook.html</code>. The menu also
    contains options for creating test data with the help of the procedure
    <code class="code">Book.createTestData()</code> and for clearing all data with
    <code class="code">Book.clearData()</code>:</p><pre class="programlisting">&lt;body&gt;
 &lt;h1&gt;Public Library&lt;/h1&gt;
 &lt;h2&gt;An Example of a Minimal JavaScript Front-End App&lt;/h2&gt;
 &lt;p&gt;This app supports the following operations:&lt;/p&gt;
 &lt;menu&gt;
  &lt;li&gt;&lt;a href="retrieveAndListAllBooks.html"&gt;
       List all books&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="createBook.html"&gt;Add a new book&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="updateBook.html"&gt;Update a book&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="deleteBook.html"&gt;Delete a book&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;button type="button" onclick="Book.clearData()"&gt;
    Clear database
  &lt;/button&gt;&lt;/li&gt;
  &lt;li&gt;&lt;button type="button" onclick="Book.createTestData()"&gt;
    Create test data
  &lt;/button&gt;&lt;/li&gt;
 &lt;/menu&gt;
&lt;/body&gt;</pre></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s02.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="pt01.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch03s02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">2.&nbsp;Storing Database Tables with JavaScript's localStorage API&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index-2.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;2.&nbsp;Step 2 - Write the Model Code</td></tr></table></div></body>
<!-- Mirrored from web-engineering.info/book/WebApp1/ch03.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 21 Jul 2023 10:59:47 GMT -->
</html>