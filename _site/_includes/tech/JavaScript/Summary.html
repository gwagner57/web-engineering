<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<!-- Mirrored from web-engineering.info/tech/JavaScript/Summary.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 21 Jul 2023 10:57:54 GMT -->
<!-- Added by HTTrack -->
<meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>JavaScript Summary</title>
  <!-- Meta Data -->
  <meta name="description"
    content="A short summary of JavaScript's main features, including a discussion of the different kinds of JS objects, basic data structures, functions as first class citizens, and code patterns for implementing classes." />
  <meta name="author" content="Gerd Wagner" />
  <link href="../css/layout.css" type="text/css" rel="stylesheet" />
  <link href="../css/article.css" type="text/css" rel="stylesheet" />
  <link media="print" href="../css/print-article.css" type="text/css" rel="stylesheet" />
</head>

<body>
  <header>
    <hgroup>
      <h1>JavaScript Summary</h1>
      <h2>What you need to know about JavaScript</h2>
    </hgroup>
    <div id="pubDate">Publication date: <time datetime="2015-11-08">8 November 2015</time></div>
    <div id="teaser">
      <p>A short summary of JavaScript's main features, including a discussion of the different kinds
        of JS objects, basic data structures, functions as first class citizens, and code patterns for
        implementing classes.</p>
    </div>
    <div id="author">By Gerd Wagner</div>
    <div id="affiliation"><a href="../../../index.html">web-engineering.info</a></div>
    <small><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" style="float:left; margin-right:1em">
        <img alt="Creative Commons License" src="../../../assets/images/88x31.png" /></a> Copyright 2015, Gerd Wagner.
      This article is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">Creative
        Commons
        Attribution-NonCommercial 4.0 International License</a>. Available online at <a
        href="../../../SummariesCheatsheetsPosters/index.html"
        rel="dct:source">http://web-engineering.info/SummariesCheatsheetsPosters</a>.</small>
    <nav id="toc">
      <h1>Contents</h1>
      <ul>
        <li><a href="#Introduction">Introduction</a></li>
        <li><a href="#Types_and_Data_Literals">Types and Data Literals</a></li>
        <li><a href="#Variable_Scope">Variable Scope</a></li>
        <li><a href="#Strict_Mode">Strict Mode</a></li>
        <li><a href="#Different_Kinds_of_Objects">Different Kinds of Objects</a></li>
        <li><a href="#Array_Lists">Array Lists</a></li>
        <li><a href="#Maps">Maps</a></li>
        <li><a href="#Four_Types_of_Basic_Data_Structures">Four Types of Basic Data Structures</a></li>
        <li><a href="#Methods_and_Functions">Methods and Functions</a></li>
        <li><a href="#Defining_and_Using_Classes">Defining and Using Classes</a>
          <ul>
            <li><a href="#Constructor-based_classes">Constructor-based classes</a></li>
            <li><a href="#Factory-based_classes">Factory-based classes</a></li>
          </ul>
        </li>
        <li><a href="#JavaScript_as_an_Object-Oriented_Language">JavaScript as an Object-Oriented Language</a></li>
        <li><a href="#The_LocalStorage_API">The LocalStorage API</a></li>
        <li><a href="#Further_Reading_about_JavaScript">Further Reading about JavaScript</a></li>
      </ul>
    </nav>
  </header>
  <!-- <footer><a href="../">Back to index...</a></footer> -->

  <div id="main">
    <section id="Introduction">
      <h1>Introduction</h1>

      <aside>JavaScript was developed in 10 days in May 1995 by <a href="https://en.wikipedia.org/wiki/Brendan_Eich"
          target="_top">Brendan Eich</a>, then working at <a href="https://en.wikipedia.org/wiki/Netscape"
          target="_top">Netscape</a>, as the HTML scripting language for their browser <em>Navigator 2</em> (<a
          href="http://www.w3.org/community/webed/wiki/A_Short_History_of_JavaScript" target="_top">more about
          history</a>). Brendan Eich said (at the O'Reilly Fluent conference in San Francisco in April 2015): "I did
        JavaScript in such a hurry, I never dreamed it would become the assembly language for the Web".</aside>

      <p>JavaScript is a dynamic functional object-oriented programming language that can be used for</p>

      <ol type="1">
        <li>
          <p>Enriching a web page by</p>
          <ul style="list-style-type: disc; ">
            <li>
              <p>generating browser-specific HTML content or CSS styling,</p>
            </li>
            <li>
              <p>inserting dynamic HTML content,</p>
            </li>
            <li>
              <p>producing special audio-visual effects (animations).</p>
            </li>
          </ul>
        </li>
        <li>
          <p>Enriching a web user interface by</p>
          <ul style="list-style-type: disc; ">
            <li>
              <p>implementing advanced user interface components,</p>
            </li>
            <li>
              <p>validating user input on the client side,</p>
            </li>
            <li>
              <p>automatically pre-filling certain form fields.</p>
            </li>
          </ul>
        </li>
        <li>
          <p>Implementing a front-end web application with local or remote data storage, as described in the book <a
              href="../../../JsFrontendApp-Book/index.html">Building Front-End Web Apps with Plain JavaScript</a>.</p>
        </li>
        <li>
          <p>Implementing a front-end component for a distributed web application with remote data storage managed by a
            back-end component, which is a server-side program that is traditionally written in a server-side language
            such as PHP, Java or C#, but can nowadays also be written in JavaScript with NodeJS.</p>
        </li>
        <li>
          <p>Implementing a complete distributed web application where both the front-end and the back-end components
            are JavaScript programs.</p>
        </li>
      </ol>

      <p>The version of JavaScript that is currently supported by web browsers is called "ECMAScript 5.1", or simply
        "ES5", but the next two versions, called "ES6" and "ES7" (or "ES 2015" and "ES 2016", as new versions are
        planned on a yearly basis), with lots of added functionality and improved syntaxes, are around the corner (and
        already partially supported by current browsers and back-end JS environments).</p>

      <p>This article has been extracted from the book <a href="../../../JsFrontendApp-Book/index.html">Building
          Front-End Web Apps with Plain JavaScript</a>, which is available as an open access online book. It tries to
        take all important points of the <a href="http://javascript.crockford.com/survey.html">classical JavaScript
          summary</a> by <a href="http://www.crockford.com/">Douglas Crockford</a> into consideration.</p>
    </section>

    <section id="Types_and_Data_Literals">
      <h1>Types and Data Literals</h1>
      <p>JavaScript has three primitive data types:
        <code>string</code>, <code>number</code> and <code>boolean</code>, and we can test if a
        variable <code>v</code> holds a value of such a type with the help of <code>typeof(v)</code>
        as, for instance, in <code>typeof(v)==="number"</code>.
      </p>
      <p>There are five basic reference
        types: <code>Object</code>, <code>Array</code>, <code>Function</code>, <code>Date</code> and
        <code>RegExp</code>. Arrays and functions are just special kinds of objects, but,
        conceptually, dates and regular expressions are primitive data values, and happen to be
        implemented in the form of wrapper objects.
      </p>
      <p>The types of variables, array elements,
        function parameters and return values are not declared and are normally not checked by
        JavaScript engines. Type conversion (casting) is performed automatically.</p>
      <p>The value of a
        variable may be</p>
      <ol>
        <li>
          <p>a <em>data value</em>: either a string, a number, or a boolean;</p>
        </li>
        <li>
          <p>an <em>object reference</em>: either referencing an ordinary object, or an array, function,
            date, or regular expression;</p>
        </li>
        <li>
          <p>the special data value <code>null</code>, which is typically used as a default value for
            initializing an object variable;</p>
        </li>
        <li>
          <p>the special data value <code>undefined</code>, which is the implicit initial value of all
            variables that have been declared but not initialized.</p>
        </li>
      </ol>
      <p>A <b><i>string</i></b> is a sequence
        of Unicode characters. String literals, like "Hello world!", 'A3F0', or the empty string "",
        are enclosed in single or double quotes. Two string expressions can be concatenated with the
        <code>+</code> operator, and checked for equality with the triple equality
        operator:
      </p>
      <pre>if (firstName + lastName === "James Bond") ...</pre>
      <p>The number of characters of a string can be obtained by applying the <code>length</code>
        attribute to a string:</p>
      <pre>console.log( "Hello world!".length);  // 12</pre>
      <p>All <em><strong>numeric</strong></em> data values are represented in 64-bit floating point format
        with an optional exponent (like in the numeric data literal <code>3.1e10</code>). There is no
        explicit type distinction between integers and floating point numbers. If a numeric expression
        cannot be evaluated to a number, its value is set to <code>NaN</code> ("not a number"), which
        can be tested with the built-in predicate <code>isNaN(</code>
        <em>expr</em><code>)</code>.
      </p>
      <p>Unfortunately, a built-in function,
        <code>Number.isInteger</code>, for testing if a number is an <b><i>integer</i></b> has only
        been introduced in ES6, so a <a
          href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger">polyfill</a>
        is needed for using it in browsers that do not yet support it. For making sure
        that a numeric value is an integer, or that a string representing a number is converted to an
        integer, one has to apply the predefined function <code>parseInt</code>. Similarly, a string
        representing a decimal number can be converted to this number with <code>parseFloat</code>. For
        converting a number <code>n</code> to a string, the best method is using
        <code>String(n)</code>.
      </p>
      <p>Like in Java, there are two pre-defined
        <em><strong>Boolean</strong></em> data literals, <code>true</code> and <code>false</code>,
        and the Boolean operator symbols are the exclamation mark <code>!</code> for NOT, the double
        ampersand <code>&amp;&amp;</code> for AND, and the double bar <code>||</code> for OR. When a
        non-Boolean value is used in a condition, or as an operand of a Boolean expression, it is
        implicitly converted into a Boolean value according to the following rules. The empty string,
        the (numerical) data literal 0, as well as <code>undefined</code> and <code>null</code>, are
        mapped to <em>false</em>, and all other values are mapped to <code>true</code>. This conversion
        can be performed explicitly with the help of the double negation operation
        <code>!!</code>.
      </p>
      <p>In addition to strings, numbers and Boolean values, also
        <em><strong>calendar dates</strong></em> and times are important types of primitive data
        values, although they are not implemented as primitive values, but in the form of wrapper
        objects instantiating <code>Date</code>. Notice that <code>Date</code> objects do, in fact, not
        really represent dates, but rather date-time instants represented internally as the number of
        milliseconds since 1 January, 1970 UTC. For converting the internal value of a
        <code>Date</code> object to a human-readable string, we have several options. The two most
        important options are using either the standard format of ISO date/time strings of the form
        "2015-01-27", or the format of localized date/time strings like "27.1.2015" (for simplicity, we
        have omitted the time part of the date/time strings in these examples). When <code>x instanceof
      Date</code>, then <code>x.toISOString()</code> provides the ISO date/time string, and
        <code>x.toLocaleDateString()</code> provides the localized date/time string. Given any date
        string <code>ds</code>, ISO or localized, <code>new Date(ds)</code> creates a corresponding
        date object.
      </p>
      <p>For <em><strong>equality</strong></em> and inequality testing, always use
        the triple equality symbols <code>===</code> and <code>!==</code> instead of the double
        equality symbols <code>==</code> and <code>!=</code>. Otherwise, for instance, the number 2
        would be the same as the string "2", since the condition <code>(2 == "2")</code> evaluates to
        true in JavaScript.</p>
      <p>Assigning an <em><strong>empty array literal</strong></em>, as in
        <code>var a = []</code> is the same as, but more concise than and therefore preferred to,
        invoking the <code>Array()</code> constructor without arguments, as in <code>var a = new
      Array()</code>.
      </p>
      <p>Assigning an <em><strong>empty object literal</strong></em>, as in <code>var o = {}</code> is the
        same as, but more concise than and therefore preferred to, invoking the <code>Object()</code>
        constructor without arguments, as in <code>var o = new Object()</code>. Notice, however, that
        an empty object literal <code>{}</code> is not really empty, as it contains property slots and
        method slots inherited from <a
          href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/prototype"
          target="_top"><code>Object.prototype</code></a>. So, a truly empty object (without any slots)
        has to be created with <code>null</code> as prototype, like in <code>var emptyObject =
      Object.create(null)</code>.</p>
      <table class="spanner">
        <caption>Type testing</caption>
        <thead>
          <tr>
            <th>Type</th>
            <th>Example values</th>
            <th>Test if <code>x</code> of type</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>string</td>
            <td>"Hello world!", 'A3F0'</td>
            <td><code>typeof(x)==="string"</code></td>
          </tr>
          <tr>
            <td>boolean</td>
            <td>true, false</td>
            <td><code>typeof(x)==="boolean"</code></td>
          </tr>
          <tr>
            <td>(floating point) number</td>
            <td>-2.75, 0, 1, 1.0, 3.1e10</td>
            <td><code>typeof(x)==="number"</code></td>
          </tr>
          <tr>
            <td>integer</td>
            <td>-2, 0, 1, 250</td>
            <td><code>Number.isInteger(x)<sup>*)</sup></code></td>
          </tr>
          <tr>
            <td>Object</td>
            <td>{}, {num:3, denom:4}, {isbn:"006251587X," title:"Weaving the Web"}, {"one":1, "two":2,
              "three":3}</td>
            <td>
              <p>excluding <code>null</code>: <code>x instanceof Object</code></p>
              <p>including <code>null</code>: <code>typeof(x) === "object"</code></p>
            </td>
          </tr>
          <tr>
            <td><a
                href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>
            </td>
            <td>[], ["one"], [1,2,3], [1,"one", {}]</td>
            <td><code>Array.isArray(x)</code></td>
          </tr>
          <tr>
            <td><a
                href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function">Function</a>
            </td>
            <td><code>function () { return "one"+1;}</code></td>
            <td><code>typeof(x)==="function"</code></td>
          </tr>
          <tr>
            <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>
            </td>
            <td><code>new Date("2015-01-27")</code></td>
            <td><code>x instanceof Date</code></td>
          </tr>
          <tr>
            <td><a
                href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp">RegExp</a>
            </td>
            <td><code>/(\w+)\s(\w+)/</code></td>
            <td><code>x instanceof RegExp</code></td>
          </tr>
        </tbody>
      </table>
      <table class="spanner">
        <caption>Type conversions</caption>
        <thead>
          <tr>
            <th>Type</th>
            <th>Convert to string</th>
            <th>Convert string to type</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>boolean</td>
            <td><code>String(x)</code></td>
            <td><code>Boolean(y)</code></td>
          </tr>
          <tr>
            <td>(floating point) number</td>
            <td><code>String(x)</code></td>
            <td><code>parseFloat(y)</code></td>
          </tr>
          <tr>
            <td>integer</td>
            <td><code>String(x)</code></td>
            <td><code>parseInt(y)</code></td>
          </tr>
          <tr>
            <td>Object</td>
            <td><code>x.toString()</code> or <code>JSON.stringify(x)</code></td>
            <td><code>JSON.parse(y)</code></td>
          </tr>
          <tr>
            <td><a
                href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>
            </td>
            <td><code>x.toString()</code> or <code>JSON.stringify(x)</code></td>
            <td><code>y.split()</code> or <code>JSON.parse(y)</code></td>
          </tr>
          <tr>
            <td><a
                href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function">Function</a>
            </td>
            <td><code>x.toString()</code></td>
            <td><code>new Function(y)</code></td>
          </tr>
          <tr>
            <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>
            </td>
            <td><code>x.toISOString()</code></td>
            <td><code>new Date(y)</code></td>
          </tr>
          <tr>
            <td><a
                href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp">RegExp</a>
            </td>
            <td><code>x.toString()</code></td>
            <td><code>new RegExp(y)</code></td>
          </tr>
        </tbody>
      </table>
    </section>

    <section id="Variable_Scope">
      <h1>Variable Scope</h1>

      <p>In the current version of JavaScript, ES5, there are only two kinds of scope for variables: the global scope
        (with <code>window</code> as the context object) and function scope, but <strong><em>no block
            scope</em></strong>. Consequently, declaring a variable within a block is confusing and should be avoided.
        For instance, although this is a frequently used pattern, even by experienced JavaScript programmers, it is a
        pitfall to declare the counter variable of a <code>for</code> loop in the loop, as in</p>

      <pre>function foo() {
  for (<strong>var i=0</strong>; i &lt; 10; i++) {
    ...  // do something with i
  }
}</pre>

      <p>Instead, and this is exactly how JavaScript is interpreting this code (by means of "hoisting"
        variable declarations), we should write:</p>

      <pre>function foo() {
  <strong>var i=0</strong>;
  for (i=0; i &lt; 10; i++) {
    ...  // do something with i
  }
}</pre>

      <p>All variables should be declared at the beginning of a function. Only in the next version of JavaScript, ES6,
        block scope will be supported by means of a new form of variable declaration with the keyword <code>let</code>.
      </p>
    </section>

    <section id="Strict_Mode">
      <h1>Strict Mode</h1>

      <p>Starting from ES5, we can use <a href="http://speakingjs.com/es5/ch07.html#strict_mode" target="_top">strict
          mode</a> for getting more runtime error checking. For instance, in strict mode, all variables must be
        declared. An assignment to an undeclared variable throws an exception.</p>

      <p>We can turn strict mode on by typing the following statement as the first line in a JavaScript file or inside a
        <code>&lt;script&gt;</code> element:
      </p>

      <pre>'use strict';</pre>

      <p>It is generally recommended that you use strict mode, except your code depends on libraries that are
        incompatible with strict mode.</p>
    </section>

    <section id="Different_Kinds_of_Objects">
      <h1>Different Kinds of Objects</h1>

      <p>JS objects are different from classical OO/UML objects. In particular, they <strong><em>need not instantiate a
            class</em></strong>. And they can have their own (instance-level) methods in the form of method slots, so
        they do not only have (ordinary) <strong><em>property slots</em></strong>, but also <strong><em>method
            slots</em></strong>. In addition they may also have <strong><em>key-value slots</em></strong>. So, they may
        have three different kinds of slots, while classical objects only have property slots.</p>

      <p>A JS object is essentially a set of name-value-pairs, also called <em><strong>slots</strong></em>, where names
        can be <em>property</em> names, <em>function</em> names or <em>keys</em> of a map. Objects can be created in an
        ad-hoc manner, using JavaScript's object literal notation (JSON), without instantiating a class:</p>

      <pre>var person1 = { firstName:"Tom", 
                lastName:"Smith"};
</pre>

      <p>Whenever the name in a slot is an <a href="http://mothereff.in/js-variables" target="_top">admissible
          JavaScript identifier</a>, the slot may be either a <em>property slot</em>, a <em>method slot</em> or a
        <em>key-value slot</em>. Otherwise, if the name is some other type of string (in particular when it contains any
        blank space), then the slot represents a <em>key-value slot</em>, which is a map element, as explained below.
      </p>

      <p>The name in a <strong><em>property slot</em></strong> may denote either</p>

      <ol type="1">
        <li>
          <p>a <strong><em>data-valued property</em></strong>, in which case the value is a <em>data value</em> or, more
            generally, a <em>data-valued expression</em>; or</p>
        </li>
        <li>
          <p>an <strong><em>object-valued property</em></strong>, in which case the value is an <em>object
              reference</em> or, more generally, an <em>object expression</em>.</p>
        </li>
      </ol>

      <p>The name in a <strong><em>method slot</em></strong> denotes a <em>JS function</em> (better called
        <em><em>method</em></em>), and its value is a <em>JS function definition expression</em>.
      </p>

      <p>Object properties can be accessed in two ways:</p>

      <ol type="1">
        <li>
          <p>Using the dot notation (like in C++/Java):</p>

          <pre>person1.lastName = "Smith"</pre>
        </li>
        <li>
          <p>Using a map notation:</p>

          <pre>person1["lastName"] = "Smith"</pre>
        </li>
      </ol>

      <p>JS objects can be used in many different ways for different purposes. Here are five different use cases for, or
        possible meanings of, JS objects:</p>

      <ol type="1">
        <li>
          <p>A <em><strong>record</strong></em> is a set of property slots like, for instance,</p>

          <pre>var myRecord = { firstName:"Tom", 
    lastName:"Smith", age:26}</pre>
        </li>
        <li>
          <p>A <em><strong>map</strong></em> (also called 'associative array', 'dictionary', 'hash map' or 'hash table'
            in other languages) supports look-ups of <em>values</em> based on <em>keys</em> like, for instance,</p>

          <pre>var numeral2number = {"one":"1", 
    "two":"2", "three":"3"}</pre>

          <p>which associates the value "1" with the key "one", "2" with "two", etc. A key need not be a valid
            JavaScript identifier, but can be any kind of string (e.g. it may contain blank spaces).</p>
        </li>
        <li>
          <p>An <em><strong>untyped object</strong></em> does not instantiate a class. It may have property slots and
            method slots like, for instance,</p>
          <pre>var person1 = { 
  lastName: "Smith", 
  firstName: "Tom",
  getFullName: function () {
    return this.firstName +" "+ 
        this.lastName; 
  }  
};</pre>
          <p>Within the body of a method slot of an object, the special variable <code>this</code> refers to
            the object. </p>
        </li>
        <li>
          <p>A <em><strong>namespace</strong></em> may be defined in the form of an untyped object referenced
            by a global object variable, the name of which represents a namespace prefix. For instance,
            the following object variable provides the main namespace of an application based on the
            <i>Model-View-Controller (MVC)</i> architecture paradigm where we have three sub-namespaces
            corresponding to the three parts of an MVC application:
          </p>

          <pre>var myApp = { model:{}, 
    view:{}, ctrl:{} };</pre>

          <p>A more advanced namespace mechanism can be obtained by using an immediately invoked JS function expression,
            as explained below.</p>
        </li>
        <li>
          <p>A <em><strong>typed object</strong></em> instantiates a class that is defined either by a JavaScript
            constructor function or by a factory object. See the section <a href="#Defining_and_using_classes">Defining
              and using classes</a> below</p>
        </li>
      </ol>
    </section>

    <section id="Array_Lists">
      <h1>Array Lists</h1>

      <p>A JavaScript array represents, in fact, the logical data structure of an <em>array list</em>, which is a list
        where each list item can be accessed via an index number (like the elements of an array). Using the term 'array'
        without saying 'JS array' creates a terminological ambiguity. But for simplicity, we will sometimes just say
        'array' instead of 'JS array'.</p>

      <p>A variable may be initialized with a JavaScript <em>array literal</em>:</p>

      <pre>var a = [1,2,3];</pre>

      <p>Because they are array lists, JS arrays can grow dynamically: it is possible to use indexes that are greater
        than the length of the array. For instance, after the array variable initialization above, the array held by the
        variable <code>a</code> has the length 3, but still we can assign a fifth array element like in</p>

      <pre>a[4] = 7;</pre>

      <p>The contents of an array <code>a</code> are processed with the help of a standard <em>for</em> loop with a
        counter variable counting from the first array index 0 to the last array index, which is
        <code>a.length-1</code>:
      </p>

      <pre>for (i=0; i &lt; a.length; i++) { ...}</pre>

      <p>Since arrays are special types of objects, we sometimes need a method for finding out if a variable represents
        an array. We can test, if a variable <code>a</code> represents an array with <code>Array.isArray( a)</code>.</p>

      <p>For <strong><em>adding</em></strong> a new element to an array, we append it to the array using the
        <code>push</code> operation as in:
      </p>

      <pre>a.<strong>push</strong>( newElement);</pre>

      <p>For <strong><em>deleting</em></strong> an element at position <code>i</code> from an array <code>a</code>, we
        use the pre-defined array method <code>splice</code> as in:</p>

      <pre>a.<strong>splice</strong>( i, 1);</pre>

      <p>For <strong><em>searching</em></strong> a value <code>v</code> in an array <code>a</code>, we can use the
        pre-defined array method <code>indexOf</code>, which returns the position, if found, or -1, otherwise, as in:
      </p>

      <pre>if (a.<strong>indexOf</strong>(v) &gt; -1)  ...</pre>

      <p>For <strong><em>looping</em></strong> over an array <code>a</code>, we have two options: either use a
        <code>for</code> loop, or the array looping method <code>forEach</code>. In any case, we can use a
        <code>for</code> loop:
      </p>

      <pre>var i=0;
for (i=0; i &lt; a.length; i++) {
  console.log( a[i]);
}</pre>

      <p>If performance doesn't matter, that is, if <code>a</code> is sufficiently small (say, it does not contain more
        than a few hundred elements), we can use the array looping method <code>forEach</code>, as in the following
        example, where the parameter <code>elem</code> iteratively assumes each element of the array <code>a</code> as
        its value:</p>

      <pre>a.<strong>forEach</strong>( function (elem) {
  console.log( elem);
}) </pre>

      <p>For <strong><em>cloning</em></strong> an array <code>a</code>, we can use the array function <code>slice</code>
        in the following way:</p>

      <pre>var clone = a.slice(0);</pre>
    </section>

    <section id="Maps">
      <h1>Maps</h1>

      <p>A map (also called 'hash map' or 'associative array') provides a mapping from keys to their associated values.
        The keys of a JS map are string literals that may include blank spaces like in:</p>

      <pre>var myTranslation = { 
    "my house": "mein Haus", 
    "my boat": "mein Boot", 
    "my horse": "mein Pferd"
}</pre>

      <p>A map is processed by looping over all keys of the map with the help of the pre-defined function
        <code>Object.keys(m)</code>, which returns an array of all keys of a map <code>m</code>. For instance,
      </p>

      <pre>var i=0, key="", keys=[];
keys = <strong>Object.keys</strong>( myTranslation);
for (i=0; i &lt; keys.length; i++) {
  key = keys[i];
  alert('The translation of '+ key +' is '+ 
      myTranslation[key]);
}</pre>

      <p>For <strong><em>adding</em></strong> a new entry to a map, we simply associate the new value with its key as
        in:</p>

      <pre>myTranslation["my car"] = "mein Auto";</pre>

      <p>For <strong><em>deleting</em></strong> an entry from a map, we can use the pre-defined <code>delete</code>
        operator as in:</p>

      <pre><strong>delete</strong> myTranslation["my boat"];</pre>

      <p>For <strong><em>searching</em></strong> in a map if it contains an entry for a certain key value, such as for
        testing if the translation map contains an entry for "my bike" we can check the following:</p>

      <pre>if ("my bike" in myTranslation)  ...</pre>

      <p>For <strong><em>looping</em></strong> over a map <code>m</code>, we first convert it to an array of its keys
        with the help of the predefined <code>Object.keys</code> method, and then we can use either a <code>for</code>
        loop or the <code>forEach</code> method. The following example shows how to loop with <code>for</code>:</p>

      <pre>var i=0, key="", keys=[];
keys = Object.keys( m);
for (i=0; i &lt; keys.length; i++) {
  key = keys[i];
  console.log( m[key]);
}</pre>

      <p>Again, if <code>m</code> is sufficiently small, we can use the <code>forEach</code> method, as in the following
        example:</p>

      <pre>Object.keys( m).<strong>forEach</strong>( function (key) {
  console.log( m[key]);
}) </pre>

      <p>Notice that using the <code>forEach</code> method is more concise.</p>

      <p>For <strong><em>cloning</em></strong> a map <code>m</code>, we can use the composition of JSON.stringify and
        JSON.parse. We first serialize <code>m</code> to a string representation with JSON.stringify, and then
        de-serialize the string representation to a map object with JSON.parse:</p>

      <pre>var clone = JSON.parse( JSON.stringify( m))</pre>

      <p>Notice that this method works well if the map contains only simple data values or (possibly nested) arrays/maps
        containing simple data values. In other cases, e.g. if the map contains <code>Date</code> objects, we have to
        write our own clone method.</p>
    </section>

    <section id="Four_Types_of_Basic_Data_Structures">
      <h1>Four Types of Basic Data Structures</h1>

      <p>In summary, the four types of basic data structures supported are:</p>

      <ol type="1">
        <li>
          <p><em><strong>array lists</strong></em>, such as <code>["one","two","three"]</code>, which are special JS
            objects called 'arrays', but since they are dynamic, they are rather <em>array lists</em> as defined in the
            <em>Java</em> programming language.
          </p>
        </li>
        <li>
          <p><em><strong>records</strong></em>, which are special JS objects, such as
            <code>{firstName: "Tom", lastName: "Smith"}</code>, as discussed above,
          </p>
        </li>
        <li>
          <p><em><strong>maps</strong></em>, which are also special JS objects, such as
            <code>{"one":1,"two":2,"three":3}</code>, as discussed above,
          </p>
        </li>
        <li>
          <p><strong><em>entity tables</em></strong>, like for instance the Table 1 shown below, which are special maps
            where the values are entity records with a standard ID (or <em>primary key</em>) slot, such that the keys of
            the map are the standard IDs of these entity records.</p>
        </li>
      </ol>

      <table class="spanner">
        <caption>An entity table representing a collection of books</caption>
        <thead>
          <tr>
            <th>Key</th>
            <th>Value</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>006251587X</td>
            <td>{ isbn:"006251587X," title:"Weaving the Web", year:2000 }</td>
          </tr>
          <tr>
            <td>0465026567</td>
            <td>{ isbn:"0465026567," title:"GÃ¶del, Escher, Bach", year:1999 }</td>
          </tr>
          <tr>
            <td>0465030793</td>
            <td>{ isbn:"0465030793," title:"I Am A Strange Loop", year:2008 }</td>
          </tr>
        </tbody>
      </table>

      <p>Notice that our distinction between maps, records and entity tables is a purely conceptual distinction, and not
        a syntactical one. For a JavaScript engine, both <code>{firstName:"Tom", lastName:"Smith"}</code> and
        <code>{"one":1, "two":2, "three":3}</code> are just objects. But conceptually,
        <code>{firstName:"Tom", lastName:"Smith"}</code> is a record because <code>firstName</code> and
        <code>lastName</code> are intended to denote properties or fields, while
        <code>{"one":1, "two":2, "three":3}</code> is a map because <code>"one"</code> and <code>"two"</code> are not
        intended to denote properties/fields, but are just arbitrary string values used as keys for a map.
      </p>

      <p>Making such conceptual distinctions helps to better understand the options offered by JavaScript.</p>
    </section>

    <section id="Methods_and_Functions">
      <h1>Methods and Functions</h1>

      <p>In JavaScript, methods are called "functions", no matter if they return a value or not. As shown in Figure 1
        below, JS functions are special JS objects, having an optional <code>name</code> property and a
        <code>length</code> property providing their number of parameters. If a variable <code>v</code> references a JS
        function can be tested with
      </p>

      <pre>if (typeof( v) === "function") {...}</pre>

      <p>Being JS objects implies that JS functions can be stored in variables, passed as arguments to functions,
        returned by functions, have properties and can be changed dynamically. Therefore, functions are first-class
        citizens, and JavaScript can be viewed as a functional programming language,</p>

      <p>The general form of a JS <strong><em>function definition</em></strong> is an assignment of a function
        expression to a variable:</p>

      <pre>var myF = function theNameOfMyF () {...}</pre>

      <p>where <code>theNameOfMyF</code> is optional. When it is omitted, the function is
        <strong><em>anonymous</em></strong>. In any case, functions are invoked via a variable that references the
        function. In the above case, this means that the function is invoked with <code>myF()</code>, and not with
        <code>theNameOfMyF()</code>.
      </p>

      <p>Anonymous function expressions are called <em>lambda expressions</em> (or shorter <em>lambdas</em>) in other
        programming languages.</p>

      <p>As an example of an anonymous function expression being passed as an argument in the invocation of another
        (higher-order) function, we can take a comparison function being passed to the pre-defined function
        <code>sort</code> for sorting the elements of an array list. Such a comparison function must return a negative
        number if its first argument is considered smaller than its second argument, it must return 0 if both arguments
        are of the same rank, and it must return a positive number if the second argument is considered smaller than the
        first one. In the following example, we sort a list of lists of 2 numbers in lexicographic order:
      </p>

      <pre>var list = [[1,2],[1,3],[1,1],[2,1]]; 
list.sort( function (x,y) { 
  return ((x[0] === y[0]) ? 
      x[1]-y[1] : x[0]-y[0]);
});</pre>

      <p>A JS <strong><em>function declaration</em></strong> has the following form:</p>

      <pre>function theNameOfMyF () {...}</pre>

      <p>It is equivalent to the following named function definition:</p>

      <pre>var theNameOfMyF = function theNameOfMyF () {
                     ...
                   }</pre>

      <p>that is, it creates both a function with name <code>theNameOfMyF</code> and a variable
        <code>theNameOfMyF</code> referencing this function.
      </p>

      <p>JS functions can have <strong><em>inner functions</em></strong>. The <strong><em>closure</em></strong>
        mechanism allows a JS function using variables (except <code>this</code>) from its outer scope, and a function
        created in a closure remembers the environment in which it was created. In the following example, there is no
        need to pass the outer scope variable <code>result</code> to the inner function via a parameter, as it is
        readily available:</p>
      <pre>var sum = function (numbers) {
  var result = 0;
  numbers.forEach( function (n) {
      result += n;
  });
  return result;
};
console.log( sum([1,2,3,4]));</pre>
      <p>When a method/function is executed, we can access its arguments within its body by using the
        built-in <code>arguments</code> object, which is "array-like" in the sense that it
        has indexed elements and a <code>length</code> property, and we can iterate over
        it with a normal <code>for</code> loop, but since it's not an instance of <code>Array</code>, the JS array
        methods (such as the <code>forEach</code>
        looping method) cannot be applied to it. The <code>arguments</code> object
        contains an element for each argument passed to the method. This allows defining a method
        without parameters and invoking it with <strong><i>any
            number of arguments</i></strong>, like so:</p>
      <pre class="programlisting" xml:space="preserve">var <strong>sum</strong> = function () {
  var result = 0, i=0;
  for (i=0; i &lt; arguments.length; i++) {
    result = result + arguments[i];
  }
  return result;
};
console.log( sum(0,1,1,2,3,5,8));  // 20</pre>
      <p>A method defined on the prototype of a constructor function, which can be invoked on all
        objects created with that constructor, such as <code>Array.prototype.forEach</code>, where <code>Array</code>
        represents the
        constructor, has to be invoked with an instance of the class as <strong><i>context object</i></strong>
        referenced by the <code>this</code> variable (see also the next section on classes). In the following
        example, the array <code>numbers</code> is the context object in the invocation of
        <code>forEach</code>:
      </p>
      <pre class="programlisting" xml:space="preserve">var numbers = [1,2,3];  // create an instance of Array
numbers.<strong>forEach</strong>( function (n) {
  console.log( n);
});</pre>
      <p>Whenever such a prototype method is to be invoked not with a context object, but with an
        object as an ordinary argument, we can do this with the help of <strong><i>the JS function <code>call</code>
            method</i></strong> that takes an object, on which the method is invoked, as its
        first parameter, followed by the parameters of the method to be invoked. For instance, we can
        apply the <code>forEach</code> looping method to the array-like object <code>arguments</code> in the following
        way:</p>
      <pre class="programlisting" xml:space="preserve">var <strong>sum</strong> = function () {
  var result = 0;
  Array.prototype.<strong>forEach.call</strong>( arguments, function (n) {
    result = result + n;
  });
  return result;
};</pre>
      <p>A variant of the <code>Function.prototype.call</code> method, taking all
        arguments of the method to be invoked as a single array argument, is <code>Function.prototype.apply</code>.</p>
      <p>Whenever a method defined for a prototype is to be invoked without a context object, or when
        a method defined in the context of an object is to be invoked without its context object, we
        can bind its <code>this</code> variable to a given object with the help of <span class="italic"><strong>the JS
            function <code>bind</code>
            method</strong></span> (<code>Function.prototype.bind</code>). This
        allows creating a shortcut for invoking a method, as in <code>var querySel =
      document.querySelector.bind( document)</code>, which allows to use <code>querySel</code> instead of
        <code>document.querySelector</code>.
      </p>

      <p>The option of immediately invoked JS function expressions can be used for obtaining a namespace mechanism that
        is superior to using a plain namespace object, since it can be controlled which variables and methods are
        globally exposed and which are not. This mechanism is also the basis for JS module concepts. In the following
        example, we define a namespace for the model code part of an app, which exposes some variables and the model
        classes in the form of constructor functions:</p>

      <pre>myApp.model = function () {
  var appName = "My app's name";
  var someNonExposedVariable = ...;
  function ModelClass1 () {...}
  function ModelClass2 () {...}
  function someNonExposedMethod (...) {...}
  return {
    appName: appName,
    ModelClass1: ModelClass1,
    ModelClass2: ModelClass2
  }
}();  // immediately invoked</pre>

      <p>This pattern has been proposed in the WebPlatform.org article <a
          href="https://docs.webplatform.org/wiki/tutorials/javascript_best_practices" target="_top">JavaScript best
          practices</a>.</p>
    </section>

    <section id="Defining_and_Using_Classes">
      <h1>Defining and Using Classes</h1>

      <p>The concept of a <strong><em>class</em></strong> is fundamental in <em>object-oriented</em> programming.
        Objects <em>instantiate</em> (or <em>are classified by</em>) a class. A class defines the properties and methods
        (as a blueprint) for the objects created with it. Having a class concept is essential for being able to
        implement a <em>data model</em> in the form of <strong><em>model classes</em></strong> within a
        <em>Model-View-Controller (MVC)</em> architecture. However, classes and their inheritance/extension mechanism
        are over-used in classical OO languages, such as in Java, where all variables and procedures have to be defined
        in the context of a class and, consequently, classes are not only used for implementing object types (or model
        classes), but also as containers for many other purposes in these languages. This is not the case in JavaScript
        where we have the freedom to use classes for implementing object types only, while keeping method libraries in
        namespace objects.
      </p>

      <p>Any code pattern for defining classes in JavaScript should satisfy five requirements. First of all, (1) it
        should allow to define a <em>class name</em>, a set of (instance-level) <strong><em> properties</em></strong>,
        preferably with the option to keep them 'private', a set of (instance-level) <strong><em>methods</em></strong>,
        and a set of <em>class-level properties and methods</em>. It's desirable that properties can be declared with a
        range/type, and with other meta-data, such as constraints. There should also be two introspection features: (2)
        an <strong><em>is-instance-of predicate</em></strong> that can be used for checking if an object is a direct or
        non-direct instance of a class, and (3) an instance-level property for retrieving the <strong><em>direct
            type</em></strong> of an object. In addition, it is desirable to have a third introspection feature for
        retrieving the <em>direct supertype</em> of a class. And finally, there should be two inheritance mechanisms:
        (4) <strong><em>property</em></strong> <strong><em>inheritance </em></strong>and (5)
        <strong><em>method</em></strong> <strong><em>inheritance</em></strong>. In addition, it is desirable to have
        support for <em>multiple inheritance</em> and <em>multiple classifications</em>, for allowing objects to play
        several roles at the same time by instantiating several role classes.
      </p>

      <p>There is no explicit class concept in JavaScript. Different code patterns for defining classes in JavaScript
        have been proposed and are being used in different frameworks. But they do often not satisfy the five
        requirements listed above. The two most important approaches for defining classes are:</p>

      <ol type="1">
        <li>
          <p>In the form of a <strong><em>constructor</em></strong> function that achieves method inheritance via the
            <strong><em>prototype chain</em></strong> and allows to create new instances of a class with the help of the
            <code>new</code> operator. This is the classical approach recommended by Mozilla in their <a
              href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Details_of_the_Object_Model"
              target="_top">JavaScript Guide</a>.
          </p>
        </li>
        <li>
          <p>In the form of a <strong><em>factory</em></strong> object that uses the predefined
            <code>Object.create</code> method for creating new instances of a class. In this approach, the
            constructor-based inheritance mechanism has to be replaced by another mechanism. <a
              href="http://chimera.labs.oreilly.com/books/1234000000262/ch03.html#fluentstyle_javascript"
              target="_top">Eric Elliott</a> has argued that factory-based classes are a viable alternative to
            constructor-based classes in JavaScript (in fact, he even condemns the use of classical inheritance with
            constructor-based classes, throwing out the baby with the bath water).
          </p>
        </li>
      </ol>

      <p>When building an app, we can use both types of classes, depending on the requirements of the app. Since we
        often need to define class hierarchies, and not just single classes, we have to make sure, however, that we
        don't mix these two alternative approaches within the same class hierarchy. While the factory-based approach, as
        exemplified by <a
          href="http://oxygen.informatik.tu-cottbus.de/webeng/JsFrontendApp/book/pt06.html">mODELcLASSjs</a>, has many
        advantages, which are summarized in Table 2, the constructor-based approach enjoys the advantage of higher
        performance object creation.</p>

      <table class="spanner">
        <caption>Required and desirable features of JS code patterns for classes</caption>
        <thead>
          <tr>
            <th>Class feature</th>
            <th>Constructor-based approach</th>
            <th>Factory-based approach</th>
            <th><a href="http://oxygen.informatik.tu-cottbus.de/webeng/JsFrontendApp/book/pt06.html">mODELcLASSjs</a>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Define properties and methods</strong></td>
            <td>yes</td>
            <td>yes</td>
            <td>yes</td>
          </tr>
          <tr>
            <td>Declare properties with a range (and other meta-data)</td>
            <td>no</td>
            <td>possibly</td>
            <td>yes</td>
          </tr>
          <tr>
            <td><strong>Built-in <em>is-instance-of</em></strong> predicate</td>
            <td>yes</td>
            <td>yes</td>
            <td>yes</td>
          </tr>
          <tr>
            <td><strong>Built-in <em>direct type</em></strong> property</td>
            <td>yes</td>
            <td>yes</td>
            <td>yes</td>
          </tr>
          <tr>
            <td>Built-in <em>direct supertype</em> property of classes</td>
            <td>no</td>
            <td>possibly</td>
            <td>yes</td>
          </tr>
          <tr>
            <td><strong>Property inheritance</strong></td>
            <td>yes</td>
            <td>yes</td>
            <td>yes</td>
          </tr>
          <tr>
            <td><strong>Method inheritance</strong></td>
            <td>yes</td>
            <td>yes</td>
            <td>yes</td>
          </tr>
          <tr>
            <td>Multiple inheritance</td>
            <td>no</td>
            <td>possibly</td>
            <td>yes</td>
          </tr>
          <tr>
            <td>Multiple classifications</td>
            <td>no</td>
            <td>possibly</td>
            <td>yes</td>
          </tr>
          <tr>
            <td>Allow <a href="https://en.wikipedia.org/wiki/Object_pool_pattern">object pools</a></td>
            <td>no</td>
            <td>yes</td>
            <td>yes</td>
          </tr>
        </tbody>
      </table>

      <section id="Constructor-based_classes">
        <h1>Constructor-based classes</h1>
        <aside>
          <p>Only in ES6, a user-friendly syntax for constructor-based classes has been introduced. In
            <strong>Step 1.a)</strong>, a base class <code class="code">Person</code> is defined with two properties,
            <code>firstName</code> and <code class="code">lastName</code>, as well as with an (instance-level) method
            <code class="code">toString</code> and a static (class-level) method <code
              class="code">checkLastName</code>:
          </p>
          <pre class="programlisting" xml:space="preserve"><strong>class</strong> Person {
  <strong>constructor</strong>( first, last) {
    this.firstName = first;
    this.lastName = last;
  }
  <strong>toString</strong>() {
    return this.firstName + " " +
        this.lastName;
  }
  static <strong>checkLastName</strong>( ln) {
    if (typeof(ln)!=="string" || 
        ln.trim()==="") {
      console.log("Error: " +
          "invalid last name!");
    }
  }
}</pre>
          <p>In <strong>Step 1.b)</strong>, class-level ("static") properties
            are defined:</p>
          <pre class="programlisting" xml:space="preserve">Person.<strong>instances</strong> = {};</pre>
          <p>Finally, in <strong>Step 2</strong>, a subclass is defined with
            additional properties and methods that possibly override the corresponding superclass
            methods:</p>
          <pre class="programlisting" xml:space="preserve">class <strong>Student</strong> <strong>extends</strong> Person {
  <strong>constructor</strong>( first, last, studNo) {
    <strong>super</strong>.constructor( first, last);
    this.<strong>studNo</strong> = studNo; 
  }
  // method overrides superclass method
  <strong>toString</strong>() {
    return <strong>super</strong>.toString() + "(" +
        this.studNo +")";
  }
}</pre>
        </aside>
        <p>In ES5, we can define a constructor-based class with a subclass in the form of
          constructor functions, following a code pattern recommended by Mozilla in their <a class="link"
            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Details_of_the_Object_Model"
            target="_top">JavaScript Guide</a>, as shown in the following steps. </p>
        <p><b>Step 1.a)</b>
          First define the constructor function that implicitly defines the properties of the class by
          assigning them the values of the constructor parameters when a new object is
          created:</p>
        <pre>function <strong>Person</strong>( first, last) {
  this.<strong>firstName</strong> = first; 
  this.<strong>lastName</strong> = last; 
}</pre>
        <p>Notice
          that within a constructor, the special variable <code>this</code> refers to the new object
          that is created when the constructor is invoked.</p>
        <p><b>Step 1.b)</b> Next, define the
          <em>instance-level methods</em> of the class as method slots of the object referenced by the
          constructor's <code>prototype</code>
          property:
        </p>
        <pre><strong>Person</strong>.prototype.<strong>toString</strong> = function () {
  return this.firstName + " " + this.lastName;
}</pre>
        <p><b>Step
            1.c)</b>
          <em>Class-level</em> ("static") <em>methods</em> can be defined as method slots of the
          constructor function itself (recall that, since JS functions are objects, they can have
          slots), as
          in
        </p>
        <pre>Person.checkLastName = function (ln) {
  if (typeof(ln)!=="string" || ln.trim()==="") {
    console.log("Error: invalid last name!");
  }
}</pre>
        <p><b>Step
            1.d)</b> Finally, define class-level ("static") properties as property slots of the
          constructor function:</p>
        <pre>Person.<strong>instances</strong> = {};</pre>
        <p><strong>Step
            2.a)</strong>: Define a subclass with additional
          properties:</p>
        <pre>function <strong>Student</strong>( first, last, studNo) {
  // invoke superclass constructor
  <strong>Person.call</strong>( this, first, last);
  // define and assign additional properties
  this.<strong>studNo</strong> = studNo;  
}</pre>
        <p>By
          invoking the supertype constructor with <code>Person.call( this, ...)</code> for
          any new object created, and referenced by <code>this</code>, as an instance of
          the subtype <code>Student</code>, we achieve that the property slots created in
          the supertype constructor (<code>firstName</code> and <code class="code">lastName</code>) are also created for
          the subtype instance, along the entire chain of
          supertypes within a given class hierarchy. In this way we set up a <span class="bold"><strong>property
              inheritance</strong> mechanism that makes sure that the own
            properties defined for an object on creation include the own properties defined by the
            supertype constructors.</span></p>
        <p>In <strong>Step 2b)</strong>, we set
          up a mechanism for <strong>method inheritance</strong> via the
          constructor's <code>prototype</code> property. We assign a new object created
          from the supertype's <code>prototype</code> object to the <code class="code">prototype</code> property of the
          subtype constructor and adjust the prototype's constructor
          property:</p>
        <pre>// Student inherits from Person
<strong>Student</strong>.prototype = Object.create( 
    <strong>Person</strong>.prototype);
// adjust the subtype's constructor property
Student.prototype.constructor = Student;</pre>
        With <code>Object.create( Person.prototype)</code> we create a new object with
        <code>Person.prototype</code> as its prototype and without any own property
        slots. By assigning this object to the <code>prototype</code> property of the
        subclass constructor, we achieve that the methods defined in, and inherited from, the
        superclass are also available for objects instantiating the subclass. This mechanism of
        chaining the prototypes takes care of method inheritance. Notice that setting <code
          class="code">Student.prototype</code> to <code>Object.create(
      Person.prototype)</code> is preferable over setting it to <code>new
      Person()</code>, which was the way to achieve the same in the time before ES5. <p><strong>Step
            2c)</strong>: Define a subclass method that overrides a superclass
          method:</p>
        <pre>Student.prototype.<strong>toString</strong> = function () {
  return Person.prototype.toString.call( this) +
      "(" + this.studNo + ")";
};</pre>
        <p>An
          instance of a constructor-based class is created by applying the <code>new</code> operator to
          the constructor function and providing suitable arguments for the constructor
          parameters:</p>
        <pre>var pers1 = <strong>new Person</strong>("Tom","Smith");</pre>
        <p>The method
          <code>toString</code> is invoked on the object <code>pers1</code> of type <code>Person</code>
          by using the 'dot
          notation':
        </p>
        <pre>alert("The full name of the person are: " + 
     <strong>pers1.toString()</strong>);</pre>
        <p>When
          an object <code>o</code> is created with <code>o = new C(</code>...<code>)</code>, where
          <code>C</code> references a named function with name "C", the type (or class) name of
          <code>o</code> can be retrieved with the introspective expression
          <code>o.constructor.name</code>, which returns "C". However, the <code>Function::name</code>
          property used in this expression is supported by all browsers except Internet Explorer up to
          version 11.
        </p> In JavaScript, a <strong><i>prototype</i></strong> is an object with
        method slots (and sometimes also
        property slots) that can be inherited by other objects via JavaScript's method/property slot
        look-up mechanism. This mechanism follows the <strong><i>prototype chain</i></strong>
        defined by the (in ES5 still unofficial) built-in
        reference property <code>__proto__</code> (with a double underscore prefix and
        suffix) for finding methods or properties. As shown below in FigureÂ 1, every constructor function
        has a reference to a prototype as the value of its
        reference property <code>prototype</code>. When a new object is created with the
        help of <code>new</code>, its <code>__proto__</code> property is set
        to the constructor's <code>prototype</code>. For instance, after creating a new
        object with <code>f = new Foo()</code>, it holds that <code class="code">Object.getPrototypeOf(f)</code>, which
        is the same as <code>f.__proto__</code>,
        is equal to <code>Foo.prototype</code>. Consequently, changes to the slots of
        <code>Foo.prototype</code> affect all objects that were created with <code class="code">new Foo()</code>. While
        every object has a <code>__proto__</code>
        property slot (except <code>Object</code>), only objects constructed with <code class="code">new</code> have a
        <code>constructor</code> property slot. <figure class="spanner">
          <figcaption>The built-in JavaScript classes <code>Object</code> and
            <code>Function</code>
          </figcaption>
          <img width="450" src="../fig/JS-Metamodel.svg" />
        </figure>
      </section>
      <p>Notice that we can retrieve the prototype of an object with <code>Object.getPrototypeOf(o)</code>,
        which is an official ES5 alternative to <code>o.__proto__</code></p>

      <section id="Factory-based_classes">
        <h1>Factory-based classes</h1>

        <p>In this approach we define a JS object <code>Person</code> (actually representing a class) with a special
          <code>create</code> method that invokes the predefined <code>Object.create</code> method for creating objects
          of type <code>Person</code>:
        </p>

        <pre>var <strong>Person</strong> = {
  typeName: "Person",
  <strong>properties</strong>: {
    firstName: {range:"NonEmptyString", 
        label:"First name", 
        writable: true, enumerable: true},
    lastName: {range:"NonEmptyString", 
        label:"Last name", 
        writable: true, enumerable: true}
  },
  <strong>methods</strong>: {
    getFullName: function () {
      return this.firstName +" "+
          this.lastName; 
    }
  },
  <strong>create</strong>: function (slots) {
    // create object
    var obj = <strong>Object.create</strong>( this.methods, 
              this.properties);
    // add property for direct type
    Object.defineProperty( obj, "<strong>type</strong>", 
        {<strong>value: this</strong>, writable: false, 
         enumerable: true});
    // initialize object
    Object.keys( slots).forEach( 
      function (prop) {
        if (prop in this.properties) {
          obj[prop] = slots[prop];
        }
    });
    return obj;
  }
};</pre>

        <p>Notice that the JS object <code>Person</code> actually represents a factory-based class. An instance of such
          a factory-based class is created by invoking its <code>create</code> method:</p>

        <pre>var pers1 = Person.create( {firstName:"Tom",
            lastName:"Smith"});</pre>

        <p>The method <code>getFullName</code> is invoked on the object <code>pers1</code> of type <code>Person</code>
          by using the 'dot notation', like in the constructor-based approach:</p>

        <pre>alert("The full name of the person are: " +
    <strong>pers1.getFullName()</strong>);</pre>

        <p>Notice that each property declaration for an object created with <code>Object.create</code> has to include
          the 'descriptors' <code>writable: true</code> and <code>enumerable: true</code>, as in lines 5 and 7 of the
          <code>Person</code> object definition above.
        </p>

        <p>In a general approach, like in the <a
            href="http://oxygen.informatik.tu-cottbus.de/webeng/JsFrontendApp/book/pt06.html">mODELcLASSjs</a> library
          for model-based development, we would not repeatedly define the <code>create</code> method in each class
          definition, but rather have a generic constructor function for defining factory-based classes. Such a factory
          class constructor, like mODELcLASS, would also provide an <strong><em>inheritance</em></strong> mechanism by
          merging the own properties and methods with the properties and methods of the superclass.</p>
      </section>
    </section>

    <section id="JavaScript_as_an_Object-Oriented_Language">
      <h1>JavaScript as an Object-Oriented Language</h1>

      <p>JavaScript is <em>object-oriented</em>, but in a different way than classical OO programming languages such as
        Java and C++. There is no explicit <em>class</em> concept in JavaScript. Rather, classes have to be defined in
        the form of special objects: either as <em>constructor</em> functions or as <em>factory</em> objects.</p>

      <p>However, objects can also be created without instantiating a class, in which case they are <em>untyped</em>,
        and properties as well as methods can be defined for specific objects independently of any class definition. At
        run time, properties and methods can be added to, or removed from, any object and class. This dynamism of
        JavaScript allows powerful forms of <em>meta-programming</em>, such as defining your own concepts of classes or
        enumerations.</p>
    </section>

    <section id="The_LocalStorage_API">
      <h1>The LocalStorage API</h1>
      <p>For a front-end app, we need to be able to store data persistently on the front-end device.
        Modern web browsers provide two technologies for this purpose: the simpler one is called
        <em>Local Storage</em>, and the more powerful one is called <em>IndexDB</em>.
      </p>

      <p>A Local Storage database is created per browser and per origin, which is defined by the combination of protocol
        and domain name. For instance, <code>http://example.com</code> and <code>http://www.example.com</code> are
        different origins because they have different domain names, while <code>http://www.example.com</code> and
        <code>https://www.example.com</code> are different origins because of their different protocols (HTTP versus
        HTTPS).
      </p>

      <p>The Local Storage database managed by the browser and associated with an app (via its origin) is exposed as the
        built-in JavaScript object <code>localStorage</code> with the methods <code>getItem</code>,
        <code>setItem</code>, <code>removeItem</code> and <code>clear</code>. However, instead of invoking
        <code>getItem</code> and <code>setItem</code>, it is more convenient to handle <code>localStorage</code> as a
        map, writing to it by assigning a value to a key as in <code>localStorage["id"] = 2901465</code>, and retrieving
        data by reading the map as in <code>var id = localStorage["id"]</code>.
      </p>

      <p>The following example shows how to create an entity table and save its serialization to Local Storage:</p>

      <pre>var persons = {};
persons["2901465"] = {id: 2901465, 
    name:"Tom"};
persons["3305579"] = {id: 3305579, name:"Su"};
persons["6492003"] = {id: 6492003, 
    name:"Pete"};
try {
  <strong>localStorage</strong>["personTable"] = 
      <strong>JSON.stringify</strong>( persons);
} catch (e) {
  alert("Error when writing to Local Storage\n" 
      + e);
}</pre>

      <p>Notice that we have used the predefined method <code>JSON.stringify</code> for serializing the JSON table
        <code>persons</code> into a string that is assigned as the value of the <code>localStorage</code> key
        "<code>personTable</code>". We can retrieve the table with the help of the predefined de-serialization method
        <code>JSON.parse</code> in the following way:
      </p>

      <pre>var persons = {};
try {
  persons = <strong>JSON.parse</strong>( 
      <strong>localStorage</strong>["personTable"]);
} catch (e) {
  alert("Error when reading from "+
      "Local Storage\n" + e);        
}</pre>
    </section>

    <section id="Further_Reading_about_JavaScript">
      <h1>Further Reading about JavaScript</h1>

      <p>Good open access books about JavaScript are</p>

      <ul style="list-style-type: disc; ">
        <li>
          <p><a href="http://speakingjs.com/es5/index.html" target="_top">Speaking JavaScript</a>, by Dr. Axel
            Rauschmayer.</p>
        </li>
        <li>
          <p><a href="http://eloquentjavascript.net/" target="_top">Eloquent JavaScript</a>, by Marijn Haverbeke.</p>
        </li>
        <li>
          <p><a href="../../../JsFrontendApp-Book/index.html">Building Front-End Web Apps with Plain JavaScript</a>, by
            Gerd
            Wagner</p>
        </li>
      </ul>
    </section>
  </div>
  <script src="../../../www.google-analytics.com/analytics.js" async=""></script>
  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '../../../www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-48105674-1', 'tu-cottbus.de');
    ga('send', 'pageview');
  </script>

</body>
<!-- Mirrored from web-engineering.info/tech/JavaScript/Summary.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 21 Jul 2023 10:57:58 GMT -->

</html>