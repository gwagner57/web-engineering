<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="role-ebook-page">
<!-- Mirrored from web-engineering.info/book/InformationManagement/CreateDB.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 21 Jul 2023 11:02:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><meta charset="UTF-8" /><title>3.1. Creating a Relational Database</title><link href="_res/pageNavigation.css" rel="stylesheet" type="text/css" /><link href="_res/ebook.css" rel="stylesheet" type="text/css" /><link href="_res/icons/index.html" type="inode/directory" /></head><body><header class="page-navigation"><table><tr><td class="page-navigation-to-first"><a href="InformationManagement.html"><span class="page-navigation-to-first-icon" title="First page
Information Management"></span></a></td><td class="page-navigation-to-previous"><a href="chRDBs.html"><span class="page-navigation-to-previous-icon" title="Previous page
Chapter 3. Relational Databases"></span></a></td><td class="page-navigation-previous"><span>Chapter 3. Relational Databases</span></td><td class="page-navigation-current"><span>3.1. Creating a Relational Database</span> <span class="page-navigation-current-page">(16 / 42)</span></td><td class="page-navigation-next"><span>3.2. Querying a Relational Database</span></td><td class="page-navigation-to-next"><a href="QueryDB.html"><span class="page-navigation-to-next-icon" title="Next page
3.2. Querying a Relational Database"></span></a></td><td class="page-navigation-to-last"><a href="_index.html"><span class="page-navigation-to-last-icon" title="Last page
Index"></span></a></td></tr></table></header><main><section class="role-section1" id="CreateDB"><h2 class="role-section1-title"><span class="role-label"><span class="role-number">3.1</span>. </span>Creating a Relational Database</h2><p>First we have to choose and install an RDBMS. For learning how to create and deal with an RDB, we can use a single-user RDBMS, such as <em>Microsoft Access</em> or the <em><a href="https://sqlitebrowser.org/">DB Browser for SQLite</a></em>. A multi-user RDBMS, such as <em>MySQL</em> or <em>PostgreSQL</em>, comes with a much greater installation and administration effort.</p><p>As an illustrative example, we are going to create a movie database with three tables: </p><ol><li>An entity table for information about people with just two columns: ID and name.</li><li>An entity table for information about movies with four columns: ID, title, release date and director.</li><li>A relationship table for information about which actors play in which movies with two columns: person ID and movie ID.</li></ol><p>In the following hands-on exercise, you are going to create a DB in three steps:</p><ol><li><p>Get prepared:</p><ol type="a"><li>If you don't have it yet, install the RDBMS of your choice (MS Access or DB Browser for SQLite) on your computer.</li><li>Start the RDBMS.</li><li>Create a new DB file &quot;MovieDB&quot; in a suitable folder (like &quot;databases&quot;) on a storage medium (such as a hard disk or SSD) of your computer.</li></ol></li><li>Create the two entity tables <code>people</code> and <code>movies</code> and populate them by inserting person records and movie records.</li><li>Create the relationship table <code>people_as_actors_in_movies</code> and populate it by inserting pairs of person IDs and movie IDs.</li></ol><section><h4>Exercise: Create a Movie DB with the <em>SQLite DB Browser</em></h4><section><h5>1 Get prepared</h5><p>After installing the <em>SQLite DB Browser</em> (normally by clicking their download link &quot;DB.Browser.for.SQLite-x.y.z-win64.msi&quot; on their <a href="https://github.com/sqlitebrowser/sqlitebrowser/releases">download page</a>), start it and click the &quot;New Database&quot; menu option. Then choose the folder where to store the DB file, enter its name (&quot;MovieDB&quot;) and confirm.</p><p>You'll see the full name of your DB file (including the file system path), such as <kbd>D:\databases\MovieDB.db</kbd>, on the top of the DB Browser window, as shown in <a class="role-figure-ref" href="DBMSs.html#DBMSs__figSQLiteDbUI"><span class="role-label">Figure <span class="role-number">1-3</span></span></a>. </p></section><section><h5>2 Create the entity table <em>people</em></h5><p>Click on <span class="button">Create Table</span> and enter &quot;people&quot; as the name of the new table. Then click <span class="button">Add field</span>, where &quot;field&quot; means the same as <em>attribute</em> or <em>column</em>.</p><p>Enter &quot;id&quot; as the name of the first field and keep &quot;INTEGER&quot; as its type. Since &quot;id&quot; is supposed to be the primary key for people records, check the &quot;PK&quot; checkbox. Since &quot;id&quot; is supposed to be an automatically assigned sequence number, check also the &quot;AI&quot; checkbox (where &quot;AI&quot; stands for &quot;AUTOINCREMENT&quot;). </p><p>Then click <span class="button">Add field</span> again for defining the &quot;name&quot; attribute of the &quot;people&quot; table. Choose &quot;TEXT&quot; as its type and check the &quot;NN&quot; checkbox for defining the &quot;name&quot; attribute to be mandatory, which is called &quot;NOT NULL&quot; in SQL.</p><p>Notice the SQL code that has been generated automatically on the lower part of the <em>Edit table definition</em> wizard: </p><table class="role-listing" style="width: 100%; border-collapse: collapse;"><colgroup class="listing-numbers-column" style="width: 2.0em;"></colgroup><tbody style="vertical-align: baseline;"><tr><td class="listing-numbers"><pre style="text-align: right; background-color: transparent; border-style: none; padding: 0; margin: 0;">1
2
3
4</pre></td><td class="listing-lines"><pre style="text-align: left; background-color: transparent; border-style: none; padding: 0; margin: 0;">CREATE TABLE &quot;people&quot; (
  &quot;id&quot; INTEGER PRIMARY KEY AUTOINCREMENT,
  &quot;name&quot; TEXT NOT NULL
);</pre></td></tr></tbody></table> <p>This SQL data definition statement defines the <em>schema</em> (or structure) of the &quot;people&quot; table.</p><p>Since we are done with defining the &quot;people&quot; table schema, you can click <span class="button">OK</span>, now, and proceed with populating the table by entering records as table rows. Choose three of your favorite movies and enter the names of their directors and at least two actors for each of them (alternatively, you can also enter the data records shown in <a class="role-figure-ref" href="#CreateDB__figMovieDbTablePopulations"><span class="role-label">Figure <span class="role-number">3-2</span></span></a>).</p><p>For entering &quot;people&quot; records, click the <em>Browse Data</em> tab while the table &quot;people&quot; is selected. Then click the <span class="button">New Record</span> button repeatedly for entering the names of people. Notice that the <code>id</code> number, as an auto-incremented primary key, is automatically pre-filled. </p></section><section><h5>3 Create the entity table <em>movies</em></h5><p>Go back to the <em>Database Structure</em> tab and click again on <span class="button">Create Table</span>. Enter &quot;movies&quot; as the name of the new table. Then click <span class="button">Add field</span> for defining the attributes of movie records.</p><p>As before, enter &quot;id&quot; as the name of the first field and keep &quot;INTEGER&quot; as its type. Since &quot;id&quot; is supposed to be the primary key consisting of an automatically generated sequence number, check the &quot;PK&quot; and the &quot;AI&quot; checkboxes. </p><p>Then click <span class="button">Add field</span> again for defining the &quot;title&quot; attribute. Choose &quot;TEXT&quot; as its type and check the &quot;NN&quot; checkbox for defining the attribute to be mandatory (&quot;NOT NULL&quot;).</p><p>Since SQLite does not have a datatype for calendar dates, we break the &quot;release date&quot; attribute up into a combination of three SQLite fields: &quot;release_date_D&quot;, &quot;release_date_M&quot; and &quot;release_date_Y&quot;, for allowing to enter a combination of three numbers for the day, month and year of a release date. Click <span class="button"> Add field</span> for defining each of these three fields with &quot;INTEGER&quot; as their type and the &quot;NN&quot; checkbox checked.</p><p>Finally, add the field &quot;director&quot; with type &quot;INTEGER&quot; and &quot;NN&quot; checked. This field will hold the ID value of the person that is the director of the movie. </p><p>Notice the SQL code that has been generated automatically on the lower part of the <em>Edit table definition</em> wizard:</p><table class="role-listing" style="width: 100%; border-collapse: collapse;"><colgroup class="listing-numbers-column" style="width: 2.0em;"></colgroup><tbody style="vertical-align: baseline;"><tr><td class="listing-numbers"><pre style="text-align: right; background-color: transparent; border-style: none; padding: 0; margin: 0;">1
2
3
4
5
6
7
8</pre></td><td class="listing-lines"><pre style="text-align: left; background-color: transparent; border-style: none; padding: 0; margin: 0;">CREATE TABLE &quot;movies&quot; (
  &quot;id&quot; INTEGER PRIMARY KEY AUTOINCREMENT,
  &quot;title&quot; TEXT NOT NULL,
  &quot;release_date_D&quot; INTEGER NOT NULL,
  &quot;release_date_M&quot; INTEGER NOT NULL,
  &quot;release_date_Y&quot; INTEGER NOT NULL,
  &quot;director&quot; INTEGER NOT NULL
);</pre></td></tr></tbody></table><p>This SQL data definition statement defines the <em>schema</em> (or structure) of the &quot;movies&quot; table.</p><p>Now click <span class="button">OK</span> and proceed with populating the table by going to the <em>Browse Data</em> tab.</p></section><section><h5>4 Create the relationship table <em>people_as_actors_in_movies</em></h5><p>Go back to the <em>Database Structure</em> tab and click again on <span class="button">Create Table</span>. Enter (or copy &amp; paste) &quot;people_as_actors_in_movies&quot; as the name of the new table. Then define two attributes: &quot;person_id&quot; and &quot;movie_id&quot; with <span class="button">Add field</span>. Since the attribute &quot;person_id&quot; is supposed to hold the ID number of a person who is an actor in the movie having the ID provided by &quot;movie_id&quot;, both fields are of type &quot;INTEGER&quot; and mandatory (their &quot;NN&quot; checkbox has to be checked).</p><p>The generated SQL code for defining the <em>table schema</em> is as follows:</p><table class="role-listing" style="width: 100%; border-collapse: collapse;"><colgroup class="listing-numbers-column" style="width: 2.0em;"></colgroup><tbody style="vertical-align: baseline;"><tr><td class="listing-numbers"><pre style="text-align: right; background-color: transparent; border-style: none; padding: 0; margin: 0;">1
2
3
4</pre></td><td class="listing-lines"><pre style="text-align: left; background-color: transparent; border-style: none; padding: 0; margin: 0;">CREATE TABLE &quot;people_as_actors_in_movies&quot; (
  &quot;person_id&quot; INTEGER NOT NULL,
  &quot;movie_id&quot; INTEGER NOT NULL
);</pre></td></tr></tbody></table><p>Now click <span class="button">OK</span> and proceed with populating the table by going to the <em>Browse Data</em> tab. Enter the data shown in <a class="role-figure-ref" href="#CreateDB__figSQLiteDbActors"><span class="role-label">Figure <span class="role-number">3-1</span></span></a> below.</p><figure id="CreateDB__figSQLiteDbActors"><img height="476" src="_res/actors-in-movies-data.png" width="438" /> <figcaption><span class="role-label">Figure <span class="role-number">3-1</span>. </span>The relationship data: which people are actors in which movies.</figcaption></figure><p>Having only the ID numbers of people and movies is all the information needed for relating people as actors to movies, but seeing only the ID numbers is not very well readable for human users. Therefore, in a user interface, we should show additional information, such as the names of people and the titles of movies, for allowing users to more easily understand these <code>people_as_actors_in_movies</code> relationships.</p><p>In <a class="role-figure-ref" href="#CreateDB__figMovieDbTablePopulations"><span class="role-label">Figure <span class="role-number">3-2</span></span></a> the contents of the movie DB is shown in the form of three tables.</p><figure id="CreateDB__figMovieDbTablePopulations"> <figcaption><span class="role-label">Figure <span class="role-number">3-2</span>. </span>The contents of the SQLite movie database</figcaption><div style="display:inline-block"><table border="1" id="CreateDB__lot__2"><caption><span class="role-label">Table <span class="role-number">3-1</span>. </span>people</caption><thead><tr><th>id</th><th>name</th></tr></thead><tbody><tr><td>1</td><td>Stephen Frears</td></tr><tr><td>2</td><td>George Lucas</td></tr><tr><td>3</td><td>Quentin Tarantino</td></tr><tr><td>4</td><td>Uma Thurman</td></tr><tr><td>5</td><td>John Travolta</td></tr><tr><td>6</td><td>Ewan McGregor</td></tr><tr><td>7</td><td>Natalie Portman</td></tr><tr><td>8</td><td>Keanu Reeves</td></tr></tbody></table></div><div style="display:inline-block"><table border="1" id="CreateDB__lot__3"><caption><span class="role-label">Table <span class="role-number">3-2</span>. </span>people_as_actors_in_movies</caption><thead><tr><th>person_id</th><th>movie_id</th></tr></thead><tbody><tr><td>4</td><td>1</td></tr><tr><td>5</td><td>1</td></tr><tr><td>6</td><td>2</td></tr><tr><td>7</td><td>2</td></tr><tr><td>8</td><td>3</td></tr><tr><td>4</td><td>3</td></tr></tbody></table></div><div style="display:inline-block"><table border="1" id="CreateDB__lot__4"><caption><span class="role-label">Table <span class="role-number">3-3</span>. </span>movies</caption><thead><tr><th>id</th><th>title</th><th>release_date_D</th><th>release_date_M</th><th>release_date_Y</th><th>director</th></tr></thead><tbody><tr><td>1</td><td>Pulp Fiction</td><td>12</td><td>5</td><td>1994</td><td>3</td></tr><tr><td>2</td><td>Star Wars</td><td>25</td><td>5</td><td>1977</td><td>2</td></tr><tr><td>3</td><td>Dangerous Liaisons</td><td>16</td><td>12</td><td>1988</td><td>1</td></tr></tbody></table></div></figure><p>Using numbers as references to entities comes with the risk of entering a number that does not reference an existing entity record. This would be a violation of <em>referential integrity</em>. For avoiding this risk, an SQL DBMS allows defining <em>foreign keys</em>, which require the entered values to reference existing records. This issue will be discussed in Part III.</p></section> </section></section></main><footer class="page-navigation"><table><tr><td class="page-navigation-to-first"><a href="InformationManagement.html"><span class="page-navigation-to-first-icon" title="First page
Information Management"></span></a></td><td class="page-navigation-to-previous"><a href="chRDBs.html"><span class="page-navigation-to-previous-icon" title="Previous page
Chapter 3. Relational Databases"></span></a></td><td class="page-navigation-previous"><span>Chapter 3. Relational Databases</span></td><td class="page-navigation-current"><span>3.1. Creating a Relational Database</span> <span class="page-navigation-current-page">(16 / 42)</span></td><td class="page-navigation-next"><span>3.2. Querying a Relational Database</span></td><td class="page-navigation-to-next"><a href="QueryDB.html"><span class="page-navigation-to-next-icon" title="Next page
3.2. Querying a Relational Database"></span></a></td><td class="page-navigation-to-last"><a href="_index.html"><span class="page-navigation-to-last-icon" title="Last page
Index"></span></a></td></tr></table></footer></body>
<!-- Mirrored from web-engineering.info/book/InformationManagement/CreateDB.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 21 Jul 2023 11:02:20 GMT -->
</html>