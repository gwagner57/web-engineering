<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="role-ebook-page">
<!-- Mirrored from web-engineering.info/book/InformationManagement/Retrieve-All-Key-Value-Pairs.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 21 Jul 2023 11:02:18 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><meta charset="UTF-8" /><title>2.1. Retrieving All Key-Value Pairs and Listing Them in a Table</title><link href="_res/pageNavigation.css" rel="stylesheet" type="text/css" /><link href="_res/ebook.css" rel="stylesheet" type="text/css" /><link href="_res/icons/index.html" type="inode/directory" /></head><body><header class="page-navigation"><table><tr><td class="page-navigation-to-first"><a href="InformationManagement.html"><span class="page-navigation-to-first-icon" title="First page
Information Management"></span></a></td><td class="page-navigation-to-previous"><a href="chKeyValue.html"><span class="page-navigation-to-previous-icon" title="Previous page
Chapter 2. Key-Value Stores"></span></a></td><td class="page-navigation-previous"><span>Chapter 2. Key-Value Stores</span></td><td class="page-navigation-current"><span>2.1. Retrieving All Key-Value Pairs and Listing Them in a Table</span> <span class="page-navigation-current-page">(11 / 42)</span></td><td class="page-navigation-next"><span>2.2. Adding a Key-Value Pair in a User Interface</span></td><td class="page-navigation-to-next"><a href="Add-Key-Value-Pair.html"><span class="page-navigation-to-next-icon" title="Next page
2.2. Adding a Key-Value Pair in a User Interface"></span></a></td><td class="page-navigation-to-last"><a href="_index.html"><span class="page-navigation-to-last-icon" title="Last page
Index"></span></a></td></tr></table></header><main><section class="role-section1" id="sectRetrAllKeyValPairs"><h2 class="role-section1-title"><span class="role-label"><span class="role-number">2.1</span>. </span>Retrieving All Key-Value Pairs and Listing Them in a Table</h2><p>The following HTML code contains a heading (the <code>h1</code> element), an empty table that will be filled with the help of JavaScript code, a navigation menu (in the <code>nav</code> element), and a <code>script</code> element containing the JavaScript code.</p><table class="role-listing" style="width: 100%; border-collapse: collapse;"><colgroup class="listing-numbers-column" style="width: 2.25em;"></colgroup><tbody style="vertical-align: baseline;"><tr><td class="listing-numbers"><pre style="text-align: right; background-color: transparent; border-style: none; padding: 0; margin: 0;">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></td><td class="listing-lines"><pre style="text-align: left; background-color: transparent; border-style: none; padding: 0; margin: 0;">&lt;!DOCTYPE html&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
 &lt;meta charset=&quot;UTF-8&quot; /&gt;
 &lt;title&gt;Phone Number Directory&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
 &lt;<strong>h1</strong>&gt;Phone Number Directory&lt;/h1&gt;
 &lt;<strong>table</strong>&gt;
  &lt;tbody id=&quot;directory&quot;&gt;&lt;/tbody&gt;
 &lt;/table&gt;
 &lt;hr/&gt;
 &lt;<strong>nav</strong>&gt;
  &lt;ul&gt;
   &lt;li&gt;&lt;a href=&quot;index.html&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
   &lt;li&gt;&lt;a href=&quot;add.html&quot;&gt;Add an entry&lt;/a&gt;&lt;/li&gt;
   &lt;li&gt;&lt;a href=&quot;update.html&quot;&gt;Update an entry&lt;/a&gt;&lt;/li&gt;
   &lt;li&gt;&lt;a href=&quot;delete.html&quot;&gt;Delete an entry&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
 &lt;/nav&gt;
 &lt;<strong>script</strong>&gt;
  ...
 &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></td></tr></tbody></table><p>On this &quot;Home&quot; page of our data management app, the currently stored key-value pairs are retrieved from <code>localStorage</code> and shown as table rows. If <code>localStorage</code> is empty, four test data key-value pairs are created and added to the store. This is done by the following JavaScript code, which forms the content of the <code>script</code> element:</p><table class="role-listing" style="width: 100%; border-collapse: collapse;"><colgroup class="listing-numbers-column" style="width: 2.25em;"></colgroup><tbody style="vertical-align: baseline;"><tr><td class="listing-numbers"><pre style="text-align: right; background-color: transparent; border-style: none; padding: 0; margin: 0;">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre></td><td class="listing-lines"><pre style="text-align: left; background-color: transparent; border-style: none; padding: 0; margin: 0;">&lt;script&gt;
 // get a handle for accessing the &quot;directory&quot; table body element
 let tableBodyEl = document.getElementById(&quot;directory&quot;);
 // add some key-value pairs if the store is empty
 if (localStorage.length === 0) {
   localStorage[&quot;Bob Jennings&quot;] = &quot;(732) 516-8970&quot;;
   localStorage[&quot;Jane Anselm&quot;] = &quot;(732) 516-4301&quot;;
   localStorage[&quot;Tara Helms&quot;] = &quot;(504) 972-3381&quot;;
   localStorage[&quot;Tom Miller&quot;] = &quot;(282) 664-9357&quot;;
 }
 // show the contents of the store
 for (let key of Object.keys( localStorage)) {
   let row = tableBodyEl.insertRow();
   row.insertCell().textContent = key;
   row.insertCell().textContent = localStorage[key];
 }
&lt;/script&gt;</pre></td></tr></tbody></table><p><b>Exercise</b>: Open a text editor of your choice (e.g., <a href="https://notepad-plus-plus.org/">NotePad++</a>). First copy and paste the HTML code above into your editor, then add the JavaScript code in the script element. Make a folder (e.g. with name &quot;KeyValueStoreExample&quot;) and save the content of your editor window in this folder as &quot;index.html&quot;. Then go to this folder (e.g., using Windows Explorer) and open the &quot;index.html&quot; file in a browser. You should see a page containing a table with 4 phone directory entries as in <a class="role-table-ref" href="DBs.html#DBs__tblPhoneNoDir"><span class="role-label">Table <span class="role-number">1-1</span></span></a> above.</p></section></main><footer class="page-navigation"><table><tr><td class="page-navigation-to-first"><a href="InformationManagement.html"><span class="page-navigation-to-first-icon" title="First page
Information Management"></span></a></td><td class="page-navigation-to-previous"><a href="chKeyValue.html"><span class="page-navigation-to-previous-icon" title="Previous page
Chapter 2. Key-Value Stores"></span></a></td><td class="page-navigation-previous"><span>Chapter 2. Key-Value Stores</span></td><td class="page-navigation-current"><span>2.1. Retrieving All Key-Value Pairs and Listing Them in a Table</span> <span class="page-navigation-current-page">(11 / 42)</span></td><td class="page-navigation-next"><span>2.2. Adding a Key-Value Pair in a User Interface</span></td><td class="page-navigation-to-next"><a href="Add-Key-Value-Pair.html"><span class="page-navigation-to-next-icon" title="Next page
2.2. Adding a Key-Value Pair in a User Interface"></span></a></td><td class="page-navigation-to-last"><a href="_index.html"><span class="page-navigation-to-last-icon" title="Last page
Index"></span></a></td></tr></table></footer></body>
<!-- Mirrored from web-engineering.info/book/InformationManagement/Retrieve-All-Key-Value-Pairs.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 21 Jul 2023 11:02:18 GMT -->
</html>