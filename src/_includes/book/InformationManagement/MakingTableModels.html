<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Mirrored from web-engineering.info/book/InformationManagement/MakingTableModels.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 21 Jul 2023 11:02:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><meta charset="UTF-8" /><title>9.2. Deriving a Table Model from an Information Design Model</title><link href="_res/pageNavigation.css" rel="stylesheet" type="text/css" /><link href="_res/ebook.css" rel="stylesheet" type="text/css" /><link href="_res/icons/index.html" type="inode/directory" /></head><body><header class="page-navigation"><table><tr><td class="page-navigation-to-first"><a href="InformationManagement.html"><span class="page-navigation-to-first-icon" title="First page
Information Management"></span></a></td><td class="page-navigation-to-previous"><a href="PlatformSpecificDatatypes.html"><span class="page-navigation-to-previous-icon" title="Previous page
9.1. Using Platform-Specific Datatypes"></span></a></td><td class="page-navigation-previous"><span>9.1. Using Platform-Specific Datatypes</span></td><td class="page-navigation-current"><span>9.2. Deriving a Table Model from an Information Design Model</span> <span class="page-navigation-current-page">(40 / 42)</span></td><td class="page-navigation-next"><span>9.3. Coding Table Models</span></td><td class="page-navigation-to-next"><a href="CodingTableModels.html"><span class="page-navigation-to-next-icon" title="Next page
9.3. Coding Table Models"></span></a></td><td class="page-navigation-to-last"><a href="_index.html"><span class="page-navigation-to-last-icon" title="Last page
Index"></span></a></td></tr></table></header><main><section class="role-section1" id="MakingTableModels"><h2 class="role-section1-title"><span class="role-label"><span class="role-number">9.2</span>. </span>Deriving a Table Model from an Information Design Model</h2><p>Originally, the <span class="italic">Structured Query Language</span> (SQL) has been based on the <em>Relational Database</em> model of Edgar F. Codd. This holds up to SQL92. After OO modeling and programming have been established in the 1990s, a new version of SQL was defined: SQL:99, which extends SQL92 by adding new language elements based on OO concepts.</p><p>However, many popular SQL DBMSs, such as MySQL and SQLite, do not support the OO features defined by SQL:99. Therefore, SQL92 is still the mainstream paradigm and we will focus our considerations on SQL92.</p><p>Recall that, by default, a foreign key refers to the primary key of the referenced table, so it can be defined by specifying the source attribute (list) in the referencing table as well as the referenced table.</p><p>For being able to make SQL-92 table models in the form of special UML class diagrams, we need to define the following UML stereotypes:</p><table border="1" id="MakingTableModels__lot__7"><caption><span class="role-label">Table <span class="role-number">9-1</span>. </span>UML stereotypes for SQL-92 table models</caption><thead><tr><th>Stereotype</th><th>Base class</th><th>Description</th></tr></thead><tbody><tr><td>«entity table»</td><td>Class</td><td>A class representing a relational database table that is populated with rows representing entities.</td></tr><tr><td>«relationship table»</td><td>Class</td><td>A class representing a relational database table that is populated with rows representing relationships between entities, implying that its attributes are foreign keys referencing the involved entity tables.</td></tr><tr><td>«enum table»</td><td>Class</td><td>A class representing a single-column table that is populated with rows representing enumeration literals.</td></tr><tr><td>«pk»</td><td>Attribute</td><td>An attribute (combination) representing the primary key of a table.</td></tr><tr><td>«fk»</td><td>Dependency</td><td>A dependency representing a <em>foreign key</em>.</td></tr><tr><td>«index»</td><td>Attribute</td><td>An attribute representing a column to be indexed.</td></tr></tbody></table><section id="MakingTableModels__d0e19"><h4 class="title" style="clear: both">Summary: Making an SQL92 table model</h4><ol type="1"><li><p>For each <em>design model</em> class representing an entity type, create a corresponding <em>data model</em> class representing an <em>entity table</em>:</p><ul class="itemizedlist" style="list-style-type: disc; "><li><p>Categorize the class with the stereotype «entity table» and apply the naming convention of lower-case plural table names. So, for instance, the design class name <code>Book</code> is converted to the «entity table» class name <code>books</code>.</p></li><li><p>Replace the UML standard identifier designation <code>{id}</code> with the <span class="italic">primary key</span> stereotype <code>«pk»</code>.</p></li><li><p>Replace the platform-independent datatype names (such as <span class="italic">String</span>, <span class="italic">Integer</span>, <span class="italic">Decimal</span>, <span class="italic">Date</span> and <span class="italic">Boolean</span>) with corresponding SQL92 datatype names.</p></li></ul><p>This results in a model like the following one:</p><figure id="MakingTableModels__lof__36"><figcaption><span class="role-label">Figure <span class="role-number">9-1</span>. </span>Replacing platform-independent datatype names with SQL datatype names</figcaption> <img alt="Replacing platform-independent datatype names with SQL datatype names" src="_res/Datatypes_SqlM.svg" width="500" /> </figure><p>Since SQL92 does not support the datatype <span class="italic">Boolean</span>, this requires using a workaround for it, such as CHAR(1) restricted to the two values ‘y’ and ‘n’.</p></li><li><p>Eliminate <b><i>multi-valued attributes</i></b>. In general, a multi-valued attribute <code>m</code> in a class <code>C</code> can be transformed into a table <code>m</code> having a single column with the same name and type as the attribute <code>m</code>, complemented by a foreign key attribute referencing <code>C</code>, as shown in the following diagram where <code>company</code> is the foreign key attribute referencing the <code>companies</code> table:</p><figure id="MakingTableModels__lof__37"><figcaption><span class="role-label">Figure <span class="role-number">9-2</span>. </span>Eliminating multi-valued attributes</figcaption> <img alt="Eliminating multi-valued attributes" src="_res/MultiValAttr_SqlM.svg" width="600" /> </figure><p>Notice how a foreign key attribute is graphically expressed with a UML dependency arrow stereotyped «fk» with the attribute's name shown at its source end.</p><p>In simple cases, multi-valued attributes may be represented by a string-valued attribute. This requires decomposing the string representing a set into its elements by using appropriate string manipulation operators. It only works in simple cases.</p></li><li><p>Turn any <b><i>enumeration</i></b> datatype into a corresponding «enumeration table» class and define suitable foreign keys referencing it in all «entity table» classes where the enumeration datatype has been used. For each enumeration literal from the enumeration datatype, insert a corresponding row in the enumeration table.<sup>(1)</sup></p><figure id="MakingTableModels__lof__38"><figcaption><span class="role-label">Figure <span class="role-number">9-3</span>. </span>Turning an enumeration datatype into an «enumeration table» class</figcaption> <img alt="Turning an enumeration datatype into an «enumeration table» class" src="_res/Enum_SqlM.svg" width="600" /> </figure><p>If the target DBMS is <em>MySQL</em>, then the effort of introducing a special table and a foreign key for implementing an enumeration datatype can be avoided. Instead, MySQL's non-standard <em>enum</em> column type can be used in the following way:</p><figure id="MakingTableModels__lof__39"><figcaption><span class="role-label">Figure <span class="role-number">9-4</span>. </span>Handling an enumeration datatype in MySQL</figcaption> <img alt="Handling an enumeration datatype in MySQL" src="_res/Enum_MySqlM.svg" width="650" /> </figure></li><li><p>For eliminating <b><i>associations</i></b>, we need to consider two cases:</p><ol type="a"><li><p>A <em>functional association</em>, mapping instances of its domain class to instances of its range class, is eliminated by</p><ol type="a"><li><p>Adding a suitable <em>foreign key</em> attribute (here, <em>publisher</em>) to the entity table class that corresponds to the domain class of the functional association (<em>books</em>).</p></li><li><p>Adding a <em>foreign key</em> dependency arrow stereotyped with «fk», annotated with the name of the foreign key attribute (<em>publisher</em>) at its source end and pointing to the class at the functional association end (<em>publishers</em>).</p></li></ol><figure id="MakingTableModels__lof__40"><figcaption><span class="role-label">Figure <span class="role-number">9-5</span>. </span>Eliminating a functional association</figcaption> <img alt="Eliminating a functional association" src="_res/FunAssoc_SqlM.svg" width="550" /> </figure></li><li><p>A <em>many-to-many association</em> is turned into a relationship table class with two foreign key attributes (here, <em>authored_book</em> and <em>author</em>), one for each of the two involved entity classes, and an attached integrity constraint (invariant) requiring the combination of both foreign key attributes to be <em>unique</em>.</p><figure id="MakingTableModels__lof__41"><figcaption><span class="role-label">Figure <span class="role-number">9-6</span>. </span>Eliminating a many-to-many association</figcaption> <img alt="Eliminating a many-to-many association" src="_res/NonFunAssoc_SqlM.svg" width="800" /> </figure></li></ol></li><li><p>Eliminate <b><i>generalization</i></b> relationships in the following way:</p><ol type="a"><li><p>Copy the standard identifier attribute(s) of the superclass to the subclass.</p></li><li><p>Replace the generalization arrow with a corresponding <span class="italic">foreign key dependency arrow</span> from the subtable to the supertable such that the primary key attribute(s) of the subtable are foreign key attribute(s).</p></li></ol><figure id="MakingTableModels__lof__42"><figcaption><span class="role-label">Figure <span class="role-number">9-7</span>. </span>Eliminating a generalization relationship</figcaption> <img alt="Eliminating a generalization relationship" src="_res/Generalization_SqlM.svg" width="500" /> </figure></li><li><p>Define an <b><i>index</i></b> for any attribute that serves as a search field to speed up the execution of corresponding queries. This may be done with the help of the attribute stereotype «index».<sup>(2)</sup></p></li></ol><p>For performance reasons, to speed up the execution of certain queries and certain change operations, certain tables may have to be splitted into two or more parts (vertically or horizontally), which may be done in the implementation model. But we will not consider this issue here.</p><p>Finally, the resulting SQL-92 table model, which contains only table classes, foreign key dependency arrows and constraints, can be easily coded with SQL <em>CREATE TABLE</em> statements, as explained in the next section.</p><hr class="footnote-hr" /> <div class="footnote" id="MakingTableModels__ftn.d0e191"><p>(1) Enumeration-valued attributes can also be implemented by the available means of a specific platform. For instance, in MS Access, enumeration-valued attributes can be implemented with the help of the Lookup Wizard and a suitable Validation Rule.</p></div><div class="footnote" id="MakingTableModels__ftn.d0e310"><p>(2) A database index is similar to a book index. It has a content field and a pointer. A book index has a topic and a page number. While a book index is linear, a database index is typically in the shape of a B+ tree.</p></div></section></section></main><footer class="page-navigation"><table><tr><td class="page-navigation-to-first"><a href="InformationManagement.html"><span class="page-navigation-to-first-icon" title="First page
Information Management"></span></a></td><td class="page-navigation-to-previous"><a href="PlatformSpecificDatatypes.html"><span class="page-navigation-to-previous-icon" title="Previous page
9.1. Using Platform-Specific Datatypes"></span></a></td><td class="page-navigation-previous"><span>9.1. Using Platform-Specific Datatypes</span></td><td class="page-navigation-current"><span>9.2. Deriving a Table Model from an Information Design Model</span> <span class="page-navigation-current-page">(40 / 42)</span></td><td class="page-navigation-next"><span>9.3. Coding Table Models</span></td><td class="page-navigation-to-next"><a href="CodingTableModels.html"><span class="page-navigation-to-next-icon" title="Next page
9.3. Coding Table Models"></span></a></td><td class="page-navigation-to-last"><a href="_index.html"><span class="page-navigation-to-last-icon" title="Last page
Index"></span></a></td></tr></table></footer></body>
<!-- Mirrored from web-engineering.info/book/InformationManagement/MakingTableModels.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 21 Jul 2023 11:02:31 GMT -->
</html>