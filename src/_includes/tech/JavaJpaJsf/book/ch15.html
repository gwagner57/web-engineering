<html>
<!-- Mirrored from web-engineering.info/tech/JavaJpaJsf/book/ch15.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 21 Jul 2023 10:59:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;15.&nbsp;Implementing Bidirectional Associations with Java, JPA and JSF</title><link rel="stylesheet" type="text/css" href="../../docbook.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index-2.html" title="Building Back-End Web Apps with Java, JPA and JSF"><link rel="up" href="pt04.html" title="Part&nbsp;IV.&nbsp;Associations"><link rel="prev" href="ch14s03.html" title="3.&nbsp;Quiz Questions"><link rel="next" href="ch15s02.html" title="2.&nbsp;Write the Model Code"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;15.&nbsp;Implementing Bidirectional Associations with Java, JPA and JSF</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch14s03.html">Prev</a>&nbsp;</td><th width="60%" align="center">Part&nbsp;IV.&nbsp;Associations</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch15s02.html">Next</a></td></tr></table><hr></div><div lang="" class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="d5e5527"></a>Chapter&nbsp;15.&nbsp;Implementing Bidirectional Associations with Java, JPA and JSF</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="ch15.html#d5e5541">1. Make a JPA Entity Class Model</a></span></dt><dt><span class="section"><a href="ch15s02.html">2. Write the Model Code </a></span></dt><dd><dl><dt><span class="section"><a href="ch15s02.html#d5e5630">2.1. New issues</a></span></dt><dt><span class="section"><a href="ch15s02.html#d5e5712">2.2. Summary</a></span></dt><dt><span class="section"><a href="ch15s02.html#d5e5732">2.3. Encode each class of the data model as an entity class</a></span></dt><dt><span class="section"><a href="ch15s02.html#d5e5783">2.4. Encode the setter operations</a></span></dt><dt><span class="section"><a href="ch15s02.html#d5e5794">2.5. Encode the add and remove operations</a></span></dt><dt><span class="section"><a href="ch15s02.html#d5e5832">2.6. Take care of deletion dependencies</a></span></dt><dt><span class="section"><a href="ch15s02.html#d5e5863">2.7. EntityManagers and Cached Entities </a></span></dt></dl></dd><dt><span class="section"><a href="ch15s03.html">3. Exploiting Derived Inverse Reference Properties in the User Interface</a></span></dt><dd><dl><dt><span class="section"><a href="ch15s03.html#d5e5900">3.1. Show information about published books in the <span class="italic">List
					Publishers</span> use case</a></span></dt></dl></dd><dt><span class="section"><a href="ch15s04.html">4. Run the App and Get the Code</a></span></dt></dl></div><p>In this chapter of our tutorial, we show</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>how to derive a <span class="italic">data model</span> in the form of a <span class="bold"><strong><span class="italic">JPA entity class model</span></strong></span> from an
     information design model,</p></li><li class="listitem"><p>how to encode the JPA entity class model in the form of entity classes (representing
      <span class="italic">model classes</span>),</p></li><li class="listitem"><p>how to write the view and controller code based on the entity classes.</p></li></ol></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d5e5541"></a>1.&nbsp;Make a JPA Entity Class Model</h2></div></div></div><p>The starting point for making a JPA entity class model is an information design model like the
   following one:</p><div class="mediaobject"><img src="../../fig/Publisher-Book-Author_Bidir_DesM_Simplified.svg"></div><p>Notice that there are two bidirectional associations, each of them having two opposite
   association end dots corresponding to a pair of mutually inverse reference properties:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>The first pair is <code class="code">Book</code>::<code class="code">publisher</code> and
       <code class="code">Publisher</code>::<code class="code">/publishedBooks</code>.</p></li><li class="listitem"><p>The second pair is <code class="code">Book</code>::<code class="code">authors</code> and
       <code class="code">Author</code>::<code class="code">/authoredBooks</code>.</p></li></ol></div><p> Since books are entities that existentially depend on authors and possibly on
   publishers, and not the other way around, it's natural to maintain the master references in book
   objects, and consider the inverse references in publisher and author objects as derived (or
   slave) data. Therefore, we define <code class="code">publishedBooks</code> and <code class="code">authoredBooks</code> as
   derived inverse reference properties, which is indicated by their slash prefix in the JPA entity
   class model.</p><p>We now show how to derive a Java data model from this design model:  </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Turn the &laquo;stdid&raquo; stereotype into the UML property modifier <code class="code">{id}</code>.</p></li><li class="listitem"><p>Replace the two association lines between <code class="code">Publisher</code> and <code class="code">Book</code>,
     and between <code class="code">Book</code> and <code class="code">Author</code>, by the two pairs of mutually inverse
     reference properties <code class="code">Book</code>::<code class="code">publisher</code> and
      <code class="code">Publisher</code>::<code class="code">/publishedBooks</code> as well as
      <code class="code">Book</code>::<code class="code">authors</code> and
     <code class="code">Author</code>::<code class="code">/authoredBooks</code>.</p></li><li class="listitem"><p>Add the following UML property modifiers for indicating the multiplicity of reference properties:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">oneToMany</code> to the derived reference property
         <code class="code">Publisher</code>::<code class="code">/publishedBooks</code>,</p></li><li class="listitem"><p><code class="code">manyToOne</code> to the reference property
         <code class="code">Book</code>::<code class="code">publisher</code></p></li><li class="listitem"><p><code class="code">manyToMany</code> to the reference property
         <code class="code">Book</code>::<code class="code">authors</code></p></li><li class="listitem"><p><code class="code">manyToMany</code> to the derived reference property
         <code class="code">Author</code>::<code class="code">/authoredBooks</code></p></li></ul></div></li><li class="listitem"><p>Create a <span class="bold"><strong>set</strong></span> and a <span class="bold"><strong>get</strong></span>
					operation for each derived and non-derived <span class="bold"><strong><span class="italic">single-valued</span></strong></span> and  <span class="bold"><strong><span class="italic">multi-valued</span></strong></span>
					property. </p></li><li class="listitem"><p>Create an <span class="bold"><strong>add</strong></span>, and a <span class="bold"><strong>remove</strong></span> operation for each derived and non-derived <span class="bold"><strong><span class="italic">multi-valued</span></strong></span>
					property.</p></li></ol></div><p>This leads to the following JPA entity class model:</p><div class="figure"><a name="d5e5620"></a><p class="title"><b>Figure&nbsp;15.1.&nbsp;The Java data model</b></p><div class="figure-contents"><div class="mediaobject"><img src="../../fig/Publisher-Book-Author_Bidir_JavaM.html"></div></div></div><br class="figure-break"></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch14s03.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="pt04.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch15s02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">3.&nbsp;Quiz Questions&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index-2.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;2.&nbsp;Write the Model Code </td></tr></table></div></body>
<!-- Mirrored from web-engineering.info/tech/JavaJpaJsf/book/ch15.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 21 Jul 2023 10:59:43 GMT -->
</html>